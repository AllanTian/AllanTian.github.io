I"¦b<p>åœ¨ Java ä¸­ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„ç±»å‹ä¿¡æ¯éƒ½èƒ½åœ¨ç¼–è¯‘é˜¶æ®µæ˜ç¡®ï¼Œæœ‰ä¸€äº›ç±»å‹ä¿¡æ¯éœ€è¦åœ¨è¿è¡Œæ—¶æ‰èƒ½ç¡®å®šï¼Œè¿™ç§æœºåˆ¶è¢«ç§°ä¸º RTTIï¼Œè‹±æ–‡å…¨ç§°ä¸º <code class="highlighter-rouge">Run-Time Type Identification</code>ï¼Œå³è¿è¡Œæ—¶ç±»å‹è¯†åˆ«ï¼Œæœ‰æ²¡æœ‰ä¸€ç‚¹â€œçŸ¥è¡Œåˆä¸€â€çš„å‘³é“ï¼Ÿè¿è¡Œæ—¶ç±»å‹è¯†åˆ«ä¸»è¦ç”±Classç±»å®ç°ã€‚</p>

<!--more-->

<p>åœ¨æ—¥å¸¸çš„å­¦ä¹ å·¥ä½œå½“ä¸­ï¼Œæœ‰ä¸€äº›çŸ¥è¯†æ˜¯æˆ‘ä»¬åœ¨è¯»ä¹¦çš„æ—¶å€™å°±èƒ½å¤Ÿä¹ å¾—ï¼›ä½†æœ‰ä¸€äº›çŸ¥è¯†ä¸æ˜¯çš„ï¼Œéœ€è¦åœ¨å®è·µçš„æ—¶å€™æ‰èƒ½å¾—åˆ°çœŸçŸ¥â€”â€”è¿™æˆ–è®¸å°±æ˜¯ç‹é˜³æ˜æå€¡çš„â€œçŸ¥è¡Œåˆä¸€â€ã€‚</p>

<h3 id="01-classç±»">01ã€ Classç±»</h3>

<p>åœ¨Javaä¸­ï¼Œæˆ‘ä»¬å¸¸ç”¨â€œclassâ€ï¼ˆé¦–å­—æ¯ä¸ºå°å†™çš„cï¼‰å…³é”®å­—æ¥å®šä¹‰ä¸€ä¸ªç±»ï¼Œè¯´è¿™ä¸ªç±»æ˜¯å¯¹æŸä¸€ç±»å¯¹è±¡çš„æŠ½è±¡ã€‚ä½ æ¯”å¦‚è¯´ç‹äºŒæ˜¯ä¸€ä¸ªç½‘ç»œçŸ¥åä½œè€…ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·ç®€å•åœ°å®šä¹‰ä½œè€…ç±»ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.cmower.java_demo.fifteen</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Author</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">pen_name</span><span class="o">;</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">real_name</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<p>ç°åœ¨ï¼Œæˆ‘ä»¬æƒ³çŸ¥é“Writerè¿™ä¸ªç±»æœ¬èº«çš„ä¸€äº›ä¿¡æ¯ï¼ˆæ¯”å¦‚è¯´ç±»åï¼‰ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿè¿™æ—¶å€™å°±éœ€è¦ç”¨åˆ°â€œClassâ€ï¼ˆé¦–å­—æ¯ä¸ºå¤§å†™çš„Cï¼‰ç±»ï¼Œè¯¥ç±»åŒ…å«äº†ä¸ç±»æœ‰å…³çš„ä¿¡æ¯ã€‚è¯·çœ‹ä»¥ä¸‹ä»£ç ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test</span> <span class="o">{</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span> <span class="o">(</span><span class="nc">String</span> <span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">Author</span> <span class="n">wanger</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Author</span><span class="o">();</span>
		<span class="nc">Class</span> <span class="n">c1</span> <span class="o">=</span> <span class="n">wanger</span><span class="o">.</span><span class="na">getClass</span><span class="o">();</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">c1</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
		<span class="c1">//è¾“å‡º com.cmower.java_demo.fifteen.Author</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>å½“æˆ‘ä»¬åˆ›å»ºäº†ä½œè€…å¯¹è±¡wangeråï¼Œå°±å¯ä»¥é€šè¿‡<code class="highlighter-rouge">wanger.getClass()</code>è·å–wangerçš„Classå¯¹è±¡ï¼Œé€šè¿‡<code class="highlighter-rouge">c1.getName()</code>å¯è·å¾—wangerå¯¹è±¡çš„ç±»åã€‚</p>

<p>æƒ³è±¡ä¸€ä¸‹ï¼Œç»è¿‡äº”å¹´çš„åˆ»æ„ç»ƒä¹ ï¼Œç‹äºŒä»ä¸€åå†™ä½œçˆ±å¥½è€…æ™‹å‡ä¸ºä¸€åä½œå®¶äº†ã€‚æˆ‘ä»¬ç”¨ä»£ç æ¥å‡è£…ä¸€ä¸‹ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.cmower.java_demo.fifteen</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Author</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">pen_name</span><span class="o">;</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">real_name</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Writer</span> <span class="kd">extends</span> <span class="nc">Author</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">honour</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test</span> <span class="o">{</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span> <span class="o">(</span><span class="nc">String</span> <span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">Author</span> <span class="n">wanger</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Writer</span><span class="o">();</span>
		<span class="nc">Class</span> <span class="n">c1</span> <span class="o">=</span> <span class="n">wanger</span><span class="o">.</span><span class="na">getClass</span><span class="o">();</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">c1</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
		<span class="c1">//è¾“å‡º com.cmower.java_demo.fifteen.Writer</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>åœ¨ä¸Šä¾‹ä¸­ï¼Œå³ä½¿æˆ‘ä»¬å°†Writerçš„å¯¹è±¡å¼•ç”¨wangerå‘ä¸Šè½¬å‹ä¸ºAuthorï¼Œwangerçš„Classå¯¹è±¡ç±»å‹ä¾ç„¶æ˜¯Writerï¼ˆé€šè¿‡è¾“å‡ºç»“æœå¯ä»¥åˆ¤å®šï¼‰ã€‚è¿™ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>Javaèƒ½å¤Ÿåœ¨è¿è¡Œæ—¶è‡ªåŠ¨è¯†åˆ«ç±»å‹çš„ä¿¡æ¯</strong>ï¼Œå®ƒä¸ä¼šå› ä¸ºwangerçš„å¼•ç”¨ç±»å‹æ˜¯Authorè€Œä¸¢å¤±wangerçœŸæ­£çš„ç±»å‹ä¿¡æ¯ï¼ˆWriterï¼‰ã€‚Javaæ˜¯æ€ä¹ˆåšåˆ°è¿™ä¸€ç‚¹å‘¢ï¼Ÿ</p>

<p>å½“Javaåˆ›å»ºæŸä¸ªç±»çš„å¯¹è±¡ï¼Œæ¯”å¦‚Writerç±»å¯¹è±¡æ—¶ï¼ŒJavaä¼šæ£€æŸ¥å†…å­˜ä¸­æ˜¯å¦æœ‰ç›¸åº”çš„Classå¯¹è±¡ã€‚å¦‚æœå†…å­˜ä¸­æ²¡æœ‰ç›¸åº”çš„Classå¯¹è±¡ï¼Œé‚£ä¹ˆJavaä¼šåœ¨.classæ–‡ä»¶ä¸­å¯»æ‰¾Writerç±»çš„å®šä¹‰ï¼Œå¹¶åŠ è½½Writerç±»çš„Classå¯¹è±¡ã€‚</p>

<p>ä¸€æ—¦Classå¯¹è±¡åŠ è½½æˆåŠŸï¼Œå°±å¯ä»¥ç”¨å®ƒæ¥åˆ›å»ºè¿™ç§ç±»å‹çš„æ‰€æœ‰å¯¹è±¡ã€‚è¿™ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸ªå¯¹è±¡åœ¨è¿è¡Œæ—¶éƒ½ä¼šæœ‰å¯¹åº”çš„Classå¯¹è±¡ï¼Œè¿™ä¸ªClasså¯¹è±¡åŒ…å«äº†è¿™ä¸ªå¯¹è±¡çš„ç±»å‹ä¿¡æ¯ã€‚å› æ­¤ï¼Œæˆ‘ä»¬èƒ½å¤Ÿé€šè¿‡Classå¯¹è±¡çŸ¥é“æŸä¸ªå¯¹è±¡â€œçœŸæ­£â€çš„ç±»å‹ï¼Œå¹¶ä¸ä¼šå› ä¸ºå‘ä¸Šè½¬å‹è€Œä¸¢å¤±ã€‚</p>

<h3 id="02-è·å–classå¯¹è±¡çš„å…¶ä»–æ–¹å¼">02ã€ è·å–Classå¯¹è±¡çš„å…¶ä»–æ–¹å¼</h3>

<p>åœ¨ä½¿ç”¨<code class="highlighter-rouge">getClass()</code>æ–¹æ³•è·å–ä¸€ä¸ªç±»çš„Classå¯¹è±¡æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»è¦å…ˆè·å–è¿™ä¸ªç±»çš„å¯¹è±¡ï¼Œæ¯”å¦‚ä¸Šé¢æåˆ°çš„wangerã€‚å¦‚æœæˆ‘ä»¬ä¹‹å‰æ²¡æœ‰è·å–è¿™ä¸ªç±»çš„å¯¹è±¡ï¼Œå°±éœ€è¦ç”¨å¦å¤–ä¸¤ç§æ–¹å¼æ¥è·å–ç±»çš„Classå¯¹è±¡ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Class</span> <span class="n">c2</span> <span class="o">=</span> <span class="nc">Writer</span><span class="o">.</span><span class="na">class</span><span class="o">;</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">c2</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>

<span class="k">try</span> <span class="o">{</span>
	<span class="nc">Class</span> <span class="n">c3</span> <span class="o">=</span> <span class="nc">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="s">"com.cmower.java_demo.fifteen.Writer"</span><span class="o">);</span>
	<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">c3</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">ClassNotFoundException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
	<span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div></div>

<p>1ï¼‰å½“ä½¿ç”¨<code class="highlighter-rouge">.class</code>æ¥è·å–Classå¯¹è±¡æ—¶ï¼Œä¸ä¼šè‡ªåŠ¨åœ°åˆå§‹åŒ–è¯¥Classå¯¹è±¡ï¼Œåˆå§‹åŒ–è¢«å»¶è¿Ÿåˆ°äº†å¯¹é™æ€æ–¹æ³•æˆ–è€…éfinalé™æ€åŸŸè¿›è¡Œé¦–æ¬¡å¼•ç”¨æ—¶æ‰æ‰§è¡Œã€‚è¿™æ ·åšä¸ä»…æ›´ç®€å•ï¼Œè€Œä¸”æ›´å®‰å…¨ï¼Œå› ä¸ºå®ƒåœ¨ç¼–è¯‘æ—¶å°±ä¼šå—åˆ°æ£€æŸ¥ï¼ˆå› æ­¤ä¸éœ€è¦ç½®äºtryè¯­å¥å—ä¸­ï¼‰ã€‚</p>

<p>2ï¼‰<code class="highlighter-rouge">Class.forName</code>ä¼šè‡ªåŠ¨åœ°åˆå§‹åŒ–è¯¥Classå¯¹è±¡ï¼Œä½†éœ€è¦æŒ‡å®šç±»åï¼Œå¹¶ä¸”éœ€è¦ç½®äºtryè¯­å¥å—ä¸­ã€‚</p>

<h3 id="03-classç±»æä¾›çš„å¸¸ç”¨æ–¹æ³•">03ã€ Classç±»æä¾›çš„å¸¸ç”¨æ–¹æ³•</h3>

<p>Classç±»ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€äº›éå¸¸æœ‰ç”¨çš„æ–¹æ³•ï¼Œæ¯”å¦‚è¯´<code class="highlighter-rouge">getName()</code>ç”¨æ¥è¿”å›ç±»åï¼Œ<code class="highlighter-rouge">getPackage()</code>è¿”å›ç±»æ‰€åœ¨çš„åŒ…åã€‚</p>

<p>æˆ‘ä»¬è¿˜å¯ä»¥åˆ©ç”¨Classç±»æä¾›çš„<code class="highlighter-rouge">newInstance()</code>æ–¹æ³•æ¥åˆ›å»ºç›¸åº”ç±»çš„å¯¹è±¡ï¼Œæ¯”å¦‚:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Class</span> <span class="n">c2</span> <span class="o">=</span> <span class="nc">Writer</span><span class="o">.</span><span class="na">class</span><span class="o">;</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">c2</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>

<span class="k">try</span> <span class="o">{</span>
	<span class="nc">Writer</span> <span class="n">wangsan</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Writer</span><span class="o">)</span> <span class="n">c2</span><span class="o">.</span><span class="na">newInstance</span><span class="o">();</span>
	<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">wangsan</span><span class="o">);</span>
	<span class="c1">// è¾“å‡ºï¼šcom.cmower.java_demo.fifteen.Writer@7852e922</span>
<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InstantiationException</span> <span class="o">|</span> <span class="nc">IllegalAccessException</span> <span class="n">e1</span><span class="o">)</span> <span class="o">{</span>
	<span class="n">e1</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div></div>

<p>ç”±äºæˆ‘ä»¬åœ¨åˆ›å»ºClasså¯¹è±¡c2æ—¶æ²¡æœ‰ä½¿ç”¨æ³›å‹ï¼Œæ‰€ä»¥<code class="highlighter-rouge">newInstance()</code>è¿”å›çš„å¯¹è±¡ç±»å‹éœ€è¦å¼ºè½¬ä¸ºWriterã€‚æˆ‘ä»¬å¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œæ”¹è¿›ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Class</span><span class="o">&lt;</span><span class="nc">Writer</span><span class="o">&gt;</span> <span class="n">c4</span> <span class="o">=</span> <span class="nc">Writer</span><span class="o">.</span><span class="na">class</span><span class="o">;</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">c4</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>

<span class="k">try</span> <span class="o">{</span>
	<span class="nc">Writer</span> <span class="n">wangsan</span> <span class="o">=</span> <span class="n">c4</span><span class="o">.</span><span class="na">newInstance</span><span class="o">();</span>
	<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">wangsan</span><span class="o">);</span>
	<span class="c1">// è¾“å‡ºï¼šcom.cmower.java_demo.fifteen.Writer@7852e922</span>
<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InstantiationException</span> <span class="o">|</span> <span class="nc">IllegalAccessException</span> <span class="n">e1</span><span class="o">)</span> <span class="o">{</span>
	<span class="n">e1</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="04-åå°„">04ã€ åå°„</h3>

<p>æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡<code class="highlighter-rouge">getFields()</code>è·å–æ‰€æœ‰publicä¿®é¥°çš„å­—æ®µï¼Œé€šè¿‡<code class="highlighter-rouge">getMethods() </code>è¿”å›æ‰€æœ‰publicä¿®é¥°çš„æ–¹æ³•ã€‚</p>

<p>ç”šè‡³ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡<code class="highlighter-rouge">getDeclaredFields()</code>è·å–æ›´å¤šå­—æ®µï¼ŒåŒ…æ‹¬å…¬å…±ã€å—ä¿æŠ¤ã€é»˜è®¤(åŒ…)è®¿é—®å’Œç§æœ‰å­—æ®µï¼Œä½†ä¸åŒ…æ‹¬ç»§æ‰¿å­—æ®µã€‚å¯¹åº”çš„ï¼Œ<code class="highlighter-rouge">getDeclaredMethods()</code>ç”¨æ¥è·å–æ›´å¤šæ–¹æ³•ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.cmower.java_demo.fifteen</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.lang.reflect.Field</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.reflect.Method</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Author</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">pen_name</span><span class="o">;</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">real_name</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Writer</span> <span class="kd">extends</span> <span class="nc">Author</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">honour</span><span class="o">;</span>

	<span class="kd">private</span> <span class="kt">void</span> <span class="nf">makeMoney</span><span class="o">()</span> <span class="o">{</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"å¾ˆå¤šå¾ˆå¤šé’±"</span><span class="o">);</span>
	<span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test</span> <span class="o">{</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

		<span class="nc">Class</span><span class="o">&lt;</span><span class="nc">Writer</span><span class="o">&gt;</span> <span class="n">c4</span> <span class="o">=</span> <span class="nc">Writer</span><span class="o">.</span><span class="na">class</span><span class="o">;</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">c4</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>

		<span class="k">try</span> <span class="o">{</span>
			<span class="nc">Writer</span> <span class="n">wangsan</span> <span class="o">=</span> <span class="n">c4</span><span class="o">.</span><span class="na">newInstance</span><span class="o">();</span>
			<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">wangsan</span><span class="o">);</span>

			<span class="nc">Field</span><span class="o">[]</span> <span class="n">fields</span> <span class="o">=</span> <span class="n">c4</span><span class="o">.</span><span class="na">getDeclaredFields</span><span class="o">();</span>
			<span class="k">for</span> <span class="o">(</span><span class="nc">Field</span> <span class="n">field</span> <span class="o">:</span> <span class="n">fields</span><span class="o">)</span> <span class="o">{</span>
				<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">field</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
			<span class="o">}</span>

			<span class="nc">Method</span><span class="o">[]</span> <span class="n">methods</span> <span class="o">=</span> <span class="n">c4</span><span class="o">.</span><span class="na">getDeclaredMethods</span><span class="o">();</span>
			<span class="k">for</span> <span class="o">(</span><span class="nc">Method</span> <span class="n">method</span> <span class="o">:</span> <span class="n">methods</span><span class="o">)</span> <span class="o">{</span>
				<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">method</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
			<span class="o">}</span>
		<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InstantiationException</span> <span class="o">|</span> <span class="nc">IllegalAccessException</span> <span class="n">e1</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">e1</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
		<span class="o">}</span>

	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>ä¸Šé¢çš„ä¾‹å­å…¶å®æ¶‰åŠåˆ°äº†åå°„ï¼ŒFieldã€Methodï¼ˆè¿˜æœ‰ä¾‹å­ä¸­æœªæåˆ°çš„Constructorï¼‰éƒ½æ¥è‡ªjava.lang.reflectç±»åº“ã€‚Classç±»ä¸java.lang.reflectç±»åº“ä¸€èµ·å¯¹åå°„çš„æ¦‚å¿µè¿›è¡Œäº†æ”¯æŒã€‚</p>

<p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦ä»ç£ç›˜æ–‡ä»¶æˆ–ç½‘ç»œæ–‡ä»¶ä¸­è¯»å–ä¸€ä¸²å­—èŠ‚ç ï¼Œå¹¶æŠŠå®ƒè½¬æ¢æˆä¸€ä¸ªç±»ï¼Œè¿™æ—¶å€™å°±éœ€è¦ç”¨åˆ°åå°„ã€‚æœ€å¸¸è§çš„å…¸å‹ä¾‹å­å°±æ˜¯å°†ä¸€ä¸²JSONå­—ç¬¦ä¸²ï¼ˆåœ¨ç½‘ç»œä¼ è¾“ä¸­æœ€åˆçš„å½¢æ€å¯èƒ½æ˜¯å­—èŠ‚æ•°ç»„ï¼‰åå°„ä¸ºå¯¹åº”ç±»å‹çš„å¯¹è±¡ã€‚</p>

<p>é˜¿é‡Œå·´å·´æä¾›çš„FastJSONæä¾›äº† <code class="highlighter-rouge">toJSONString()</code> å’Œ <code class="highlighter-rouge">parseObject()</code> æ–¹æ³•æ¥å°† Java å¯¹è±¡ä¸ JSON ç›¸äº’è½¬æ¢ã€‚è°ƒç”¨toJSONStringæ–¹æ³•å³å¯å°†å¯¹è±¡è½¬æ¢æˆ JSON å­—ç¬¦ä¸²ï¼ŒparseObject æ–¹æ³•åˆ™åè¿‡æ¥å°† JSON å­—ç¬¦ä¸²è½¬æ¢æˆå¯¹è±¡ã€‚FastJSONçš„å†…éƒ¨å…¶å®ç”¨çš„å°±æ˜¯åå°„æœºåˆ¶ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.cmower.common.util</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.UnsupportedEncodingException</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.apache.commons.logging.Log</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.commons.logging.LogFactory</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.alibaba.fastjson.JSON</span><span class="o">;</span>

<span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">"all"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">JsonUtil</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="kd">static</span> <span class="nc">Log</span> <span class="n">logger</span> <span class="o">=</span> <span class="nc">LogFactory</span><span class="o">.</span><span class="na">getLog</span><span class="o">(</span><span class="s">"json"</span><span class="o">);</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">byte</span><span class="o">[]</span> <span class="nf">objectToByte</span><span class="o">(</span><span class="nc">Object</span> <span class="n">obj</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">UnsupportedEncodingException</span> <span class="o">{</span>
		<span class="nc">String</span> <span class="n">jsonStr</span> <span class="o">=</span> <span class="no">JSON</span><span class="o">.</span><span class="na">toJSONString</span><span class="o">(</span><span class="n">obj</span><span class="o">);</span>
		<span class="n">logger</span><span class="o">.</span><span class="na">debug</span><span class="o">(</span><span class="s">"åºåˆ—åŒ–åæ•°æ®ï¼š"</span> <span class="o">+</span> <span class="n">jsonStr</span><span class="o">);</span>
		<span class="k">return</span> <span class="n">jsonStr</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="s">"UTF-8"</span><span class="o">);</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="no">T</span> <span class="nf">byteToObject</span><span class="o">(</span><span class="kt">byte</span><span class="o">[]</span> <span class="n">data</span><span class="o">,</span> <span class="nc">Class</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="n">obj</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">UnsupportedEncodingException</span> <span class="o">{</span>
		<span class="nc">String</span> <span class="n">objectString</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">String</span><span class="o">(</span><span class="n">data</span><span class="o">,</span> <span class="s">"UTF-8"</span><span class="o">);</span>
		<span class="n">logger</span><span class="o">.</span><span class="na">debug</span><span class="o">(</span><span class="s">"ååºåˆ—åŒ–åæ•°æ® : "</span> <span class="o">+</span> <span class="n">objectString</span><span class="o">);</span>
		<span class="k">return</span> <span class="no">JSON</span><span class="o">.</span><span class="na">parseObject</span><span class="o">(</span><span class="n">objectString</span><span class="o">,</span> <span class="n">obj</span><span class="o">);</span>
	<span class="o">}</span>
	
	<span class="kd">public</span> <span class="kd">static</span> <span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="nc">Object</span> <span class="nf">stringToObject</span><span class="o">(</span><span class="nc">String</span> <span class="n">data</span><span class="o">,</span> <span class="nc">Class</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="n">obj</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">UnsupportedEncodingException</span> <span class="o">{</span>
		<span class="n">logger</span><span class="o">.</span><span class="na">debug</span><span class="o">(</span><span class="s">"ååºåˆ—åŒ–åæ•°æ® : "</span> <span class="o">+</span> <span class="n">data</span><span class="o">);</span>
		<span class="k">return</span> <span class="no">JSON</span><span class="o">.</span><span class="na">parseObject</span><span class="o">(</span><span class="n">data</span><span class="o">,</span> <span class="n">obj</span><span class="o">);</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="05-æ€»ç»“">05ã€ æ€»ç»“</h3>

<p>ä¸ºäº†å®Œæˆè¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ç‰¹æ„å’Œ<a href="https://mp.weixin.qq.com/s/14UMG0_EX1v_o0zo6xI14w">æ²‰é»˜ç‹äºŒäº¤æµç¾¤</a>çš„ä¸€åæŠ€æœ¯ä¸“å®¶èŠäº†èŠï¼Œé—®ä»–äº†å‡ ä¸ªå¾ˆå‚»é€¼çš„é—®é¢˜ï¼šâ€œâ€˜è¿è¡Œæ—¶â€™æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿæ˜¯ç«™åœ¨Javaè™šæ‹Ÿæœºçš„è§’åº¦ï¼Œè¿˜æ˜¯ç¨‹åºå‘˜çš„è§’åº¦ï¼Ÿâ€</p>

<p>ä»–ç»™äº†æˆ‘å¾ˆå¥½çš„è§£é‡Šå’Œå¯å‘ï¼Œæˆ‘ä¸ç”±è§‰å¾—éå¸¸çš„æƒ­æ„§ï¼Œä½œä¸ºä¸€åå¹´çºªé¢‡é•¿çš„Javaå­¦ä¹ è€…ï¼Œç«Ÿç„¶å¯¹ç†è®ºçŸ¥è¯†è–„å¼±åˆ°ä»¤äººå‘æŒ‡çš„åœ°æ­¥â€”â€”ä¸çŸ¥é“ä½ æ˜¯å¦ä¹Ÿæœ‰è¿™æ ·çš„å›°æƒ‘ï¼Ÿ</p>

<p>ä½†å†™ä½œçš„å¥½å¤„å°±åœ¨äºæ­¤ï¼Œåœ¨å‘è¯»è€…è§£é‡Šâ€œJavaå¦‚ä½•åœ¨è¿è¡Œæ—¶è¯†åˆ«ç±»å‹ä¿¡æ¯â€çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘çš„æ€è·¯é€æ¸åœ°æ¸…æ™°äº†èµ·æ¥â€”â€”è¿™çœŸæ˜¯ä¸€ä¸ªè‡ªæˆ‘æå‡çš„å¥½åŠæ³•ï¼</p>

<hr />

<p>ä¸Šä¸€ç¯‡ï¼š<a href="http://www.itwanger.com/java/2019/11/08/java-exception.html">Javaå¼‚å¸¸å¤„ç†ï¼šç»™ç¨‹åºç½©ä¸€å±‚ä¿é™©</a></p>

<p>ä¸‹ä¸€ç¯‡ï¼š<a href="http://www.itwanger.com/java/2019/11/09/java-enum.html">Javaæšä¸¾ï¼šå°å°enumï¼Œä¼˜é›…è€Œå¹²å‡€</a></p>

<p>å¾®ä¿¡æœç´¢ã€Œ<strong>æ²‰é»˜ç‹äºŒ</strong>ã€å…¬ä¼—å·ï¼Œå…³æ³¨åå›å¤ã€Œ<strong>å…è´¹è§†é¢‘</strong>ã€è·å– 500G é«˜è´¨é‡æ•™å­¦è§†é¢‘ï¼ˆ<a href="https://mp.weixin.qq.com/s/GjkEyPW0vgIvuDLYQkBM0A">å·²åˆ†é—¨åˆ«ç±»</a>ï¼‰ã€‚</p>

:ET