I"±V<p>ä¸€å¹´å‰ï¼Œå½“æˆ‘å’Œå°ä¼™ä¼´å°é¾™ä¸€èµ·åšä¸€ä¸ªå¤–åŒ…é¡¹ç›®çš„æ—¶å€™ï¼Œå—åˆ°äº†ä¸¥é‡çš„é„™è§†ã€‚æˆ‘é‚£æ—¶å€™è¿˜ä¸çŸ¥é“ Mavenï¼Œæ‰€ä»¥æ­å»ºé¡¹ç›®ç”¨çš„è¿˜æ˜¯æœ€åŸå§‹çš„æ–¹å¼ï¼Œå°é¾™ä¸å¾—å·²åœ¨å¯¼å…¥é¡¹ç›®çš„æ—¶å€™èŠ±äº†å¾ˆé•¿æ—¶é—´å»ä¸‹è½½é¡¹ç›®ä¾èµ–çš„å¼€æºç±»åº“ã€‚</p>

<p>å‡ºäºå¯¹æˆ‘çš„å°Šé‡ï¼Œå°é¾™æ²¡æœ‰ç ´å£å¤§éª‚ï¼Œè€Œæ˜¯éå¸¸å§”å©‰åœ°è¯´äº†ä¸€å¥ï¼šâ€œäºŒå“¥ï¼Œä½ å¥½æ­¹ä¹Ÿæœ‰ä¸€å®šçš„çŸ¥ååº¦äº†ï¼Œç«Ÿç„¶æ²¡ç”¨ Maven æ„å»ºé¡¹ç›®ï¼ŒçœŸè®©æˆ‘å¤§å¼€çœ¼ç•Œå•Šã€‚â€</p>

<p>ä½œä¸ºä¸€åå¯Œæœ‰ä¸Šè¿›å¿ƒçš„ç¨‹åºå‘˜ï¼Œä¸èƒ½å¿å•Šã€‚å€Ÿæ­¤æœºä¼šï¼Œæœ‰å¿…è¦éš†é‡åœ°å‘å¤§å®¶ä»‹ç»ä¸€ä¸‹ Maven äº†ã€‚</p>

<!--more-->

<h3 id="01maven-æ˜¯ä»€ä¹ˆ">01ã€Maven æ˜¯ä»€ä¹ˆï¼Ÿ</h3>

<p>ä¸ç®¡è‹±æ–‡åŠŸåº•å¥½ä¸å¥½ï¼Œå…ˆçœ‹çœ‹å®˜ç½‘ç»™å‡ºçš„ä»‹ç»è¯­å§ï¼š</p>

<blockquote>
  <p>Apache Maven is a software project management and comprehension tool. Based on the concept of a project object model (POM), Maven can manage a projectâ€™s build, reporting and documentation from a central piece of information.</p>
</blockquote>

<p>å¤§è‡´çš„æ„æ€å°±æ˜¯è¯´ï¼ŒApache Maven æ˜¯ä¸€ä¸ªé¡¹ç›®ç®¡ç†å’Œè‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ï¼ŒåŸºäºé¡¹ç›®å¯¹è±¡æ¨¡å‹ï¼ˆPOMï¼‰çš„æ¦‚å¿µï¼Œå¯ä»¥ç®¡ç†é¡¹ç›®çš„æ„å»ºã€æŠ¥å‘Šä»¥åŠæ–‡æ¡£ã€‚ä½œä¸º Apache ç»„ç»‡ä¸­çš„ä¸€ä¸ªé¢‡ä¸ºæˆåŠŸçš„å¼€æºé¡¹ç›®ï¼Œ<strong>Maven ä¸»è¦æœåŠ¡äºåŸºäº Java çš„é¡¹ç›®æ„å»ºã€ä¾èµ–ç®¡ç†å’Œé¡¹ç›®ä¿¡æ¯ç®¡ç†</strong>ã€‚</p>

<p>Maven é‡‡ç”¨äº†çº¦å®šä¼˜å…ˆé…ç½®çš„åŸåˆ™ï¼Œè¿™äº›åŸåˆ™å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p>

<table>
  <thead>
    <tr>
      <th>ç›®å½•</th>
      <th>ç›®çš„</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">${basedir}</code></td>
      <td>å­˜æ”¾ pom.xml å’Œæ‰€æœ‰çš„å­ç›®å½•</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">${basedir}/src/main/java</code></td>
      <td>å­˜æ”¾ Java æºä»£ç </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">${basedir}/src/main/resources</code></td>
      <td>å­˜æ”¾é¡¹ç›®çš„èµ„æºæ–‡ä»¶ï¼Œæ¯”å¦‚è¯´ log4j.properties</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">${basedir}/src/test/java</code></td>
      <td>å­˜æ”¾æµ‹è¯•ç±»</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">${basedir}/src/test/resources</code></td>
      <td>å­˜æ”¾æµ‹è¯•ç”¨çš„èµ„æº</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">${basedir}/src/main/webapp</code></td>
      <td>å­˜æ”¾ Web å‰ç«¯æ–‡ä»¶</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">${basedir}/target</code></td>
      <td>é¡¹ç›®æ‰“åŒ…åçš„è¾“å‡ºç›®å½•</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">${basedir}/target/classes</code></td>
      <td>é¡¹ç›®ç¼–è¯‘åè¾“å‡ºç›®å½•</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">~/.m2/repository</code></td>
      <td>é»˜è®¤çš„ Maven ä»“åº“ç›®å½•ï¼ˆ~è¡¨ç¤ºç”¨æˆ·ç›®å½•ï¼‰</td>
    </tr>
  </tbody>
</table>

<p>ä½¿ç”¨çº¦å®šä¼˜å…ˆé…ç½®å¸¦æ¥çš„æœ€å¤§å¥½å¤„å°±æ˜¯é¡¹ç›®çš„ç›®å½•ç»“æ„å›¾éå¸¸çš„ç»Ÿä¸€ï¼Œä¸åŒçš„å¼€å‘è€…åœ¨å¼€å‘ä¸€ä¸ª Maven é¡¹ç›®çš„æ—¶å€™ï¼Œæ–‡ä»¶å­˜æ”¾ä½ç½®å‡ ä¹æ²¡æœ‰å·®åˆ«ï¼Œçœå»äº†å¾ˆå¤šä¸å¿…è¦çš„éº»çƒ¦ï¼Œæœ‰åˆ©äºä¿ƒè¿›é¡¹ç›®å›¢é˜Ÿçš„æ ‡å‡†åŒ–ã€‚</p>

<p>æˆ‘ä»¬è¿™ä¸ªå¹´ä»£éå¸¸å´‡å°šå¼€æºç²¾ç¥ï¼Œå‡ ä¹æ‰€æœ‰çš„ Java é¡¹ç›®éƒ½ä¼šå€Ÿç”¨ä¸€äº›ç¬¬ä¸‰æ–¹çš„å¼€æºç±»åº“ï¼Œè¿™äº›ç±»åº“å¯ä»¥é€šè¿‡ä¾èµ–çš„æ–¹å¼å¼•å…¥åˆ°é¡¹ç›®ä¸­æ¥ã€‚ä½†éšç€ä¾èµ–çš„å¢å¤šï¼Œç‰ˆæœ¬å†²çªã€ä¾èµ–è‡ƒè‚¿çš„é—®é¢˜å°±ä¼šæ¥è¸µè€Œæ¥ã€‚æ‰‹å·¥è§£å†³è¿™äº›é—®é¢˜æ˜¯ååˆ†æ¯ç‡¥çš„ï¼Œå¹¸è¿çš„æ˜¯ Maven æä¾›äº†ä¸€ä¸ªä¼˜ç§€çš„è§£å†³æ–¹æ¡ˆï¼Œå®ƒé€šè¿‡ä¸€ä¸ªä¸‰ç»´çš„åæ ‡ï¼ˆ<code class="highlighter-rouge">&lt;groupId&gt;</code>ã€<code class="highlighter-rouge">&lt;artifactId&gt;</code>ã€<code class="highlighter-rouge">&lt;version&gt;</code>ï¼‰æ¥å‡†ç¡®åœ°å®šä½æ¯ä¸€ä¸ªå¼€æºç±»åº“ã€‚</p>

<p>å¦å¤–ï¼Œæˆ‘è®¤ä¸º Maven ç‰¹åˆ«ä¼˜ç§€çš„ä¸€ç‚¹æ˜¯ï¼Œå®ƒæŠŠé¡¹ç›®ä¾èµ–çš„æ‰€æœ‰å¼€æºç±»åº“éƒ½ä»è¿œç¨‹ä¸­å¤®ä»“åº“ä¸‹è½½åˆ°äº†æŒ‡å®šçš„æœ¬åœ°ä»“åº“ä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™äº›å¼€æºç±»åº“å¯ä»¥åœ¨å¤šä¸ªé¡¹ç›®ä¹‹é—´å…±ç”¨ï¼Œæ— éœ€é‡å¤ä¸‹è½½â€”â€”å‡å¦‚æˆ‘ç”¨ Maven æ„å»ºé¡¹ç›®çš„è¯ï¼Œå°é¾™å°±ä¸ç”¨ä¸‹è½½é‚£ä¹ˆå¤šå¼€æºç±»åº“äº†ï¼Œä»–çš„æœ¬åœ°ä»“åº“ä¸­å¯èƒ½å·²ç»æœ‰äº†â€”â€”æˆ‘ä¹Ÿå°±ä¸ä¼šè¢«é„™è§†äº†ã€‚</p>

<h3 id="02é…ç½®-maven-ç¯å¢ƒ">02ã€é…ç½® Maven ç¯å¢ƒ</h3>

<p>1ï¼‰å®‰è£… Maven ä¹‹å‰ï¼Œå…ˆç¡®ä¿ç”µè„‘ä¸Šå·²ç»å®‰è£…äº† JDKã€‚</p>

<p>2ï¼‰å» Maven å®˜ç½‘ä¸‹è½½æƒ³è¦çš„ç‰ˆæœ¬å¹¶è§£å‹ï¼Œä¸‹è½½åœ°å€ä¸ºï¼š</p>

<p><a href="https://maven.apache.org/download.cgi">https://maven.apache.org/download.cgi</a></p>

<p>3ï¼‰è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œä¸»è¦æ˜¯ MAVEN_HOME å’Œ Pathã€‚</p>

<p><img src="http://www.itwanger.com/assets/images/2019/10/maven-rumen-1.png" alt="" /></p>

<p>4ï¼‰æ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥ <code class="highlighter-rouge">mvn -v</code> éªŒè¯ Maven æ˜¯å¦é…ç½®æˆåŠŸã€‚</p>

<p><img src="http://www.itwanger.com/assets/images/2019/10/maven-rumen-2.png" alt="" /></p>

<p>5ï¼‰Maven çš„ conf ç›®å½•ä¸‹åŒ…å«äº†ä¸€ä¸ªéå¸¸é‡è¦çš„æ–‡ä»¶ settings.xmlï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘å€¾å‘äºå°†è¯¥æ–‡ä»¶å¤åˆ¶åˆ° <code class="highlighter-rouge">~/.m2/</code> ç›®å½•ä¸‹â€”â€”å»ºè®®ä½ ä¹Ÿè¿™ä¹ˆåšã€‚</p>

<p>æ‰“å¼€è¯¥æ–‡ä»¶ï¼Œåœ¨ <code class="highlighter-rouge">&lt;mirrors&gt;&lt;/mirrors&gt;</code> èŠ‚ç‚¹ä¸‹æ·»åŠ é˜¿é‡Œäº‘çš„é•œåƒåœ°å€ï¼ˆå‚ç…§ä¸‹é¢çš„ä»£ç ï¼‰ã€‚ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšå‘¢ï¼Ÿå› ä¸º Maven é»˜è®¤çš„ä»“åº“åœ¨ä¸ç¿»å¼ºçš„æƒ…å†µä¸‹å¾ˆéš¾è®¿é—®åˆ°ã€‚</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;mirror&gt;</span>
<span class="nt">&lt;id&gt;</span>alimaven<span class="nt">&lt;/id&gt;</span>
<span class="nt">&lt;name&gt;</span>aliyun maven<span class="nt">&lt;/name&gt;</span>
<span class="nt">&lt;url&gt;</span>http://maven.aliyun.com/nexus/content/groups/public/<span class="nt">&lt;/url&gt;</span>
<span class="nt">&lt;mirrorOf&gt;</span>central<span class="nt">&lt;/mirrorOf&gt;</span>
<span class="nt">&lt;/mirror&gt;</span>
</code></pre></div></div>

<p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code class="highlighter-rouge">&lt;mirrorOf&gt;</code> çš„å€¼æœ‰ä¸‹é¢å››ç§æ–¹å¼ï¼š</p>

<ul>
  <li><code class="highlighter-rouge">&lt;mirrorOf&gt;*&lt;mirrorOf&gt;</code>ï¼šåŒ¹é…æ‰€æœ‰è¿œç¨‹ä»“åº“ï¼Œä¹Ÿå°±æ˜¯è¯´ä»»ä½•å¯¹äºä¸­å¤®ä»“åº“çš„è¯·æ±‚éƒ½ä¼šè½¬è‡³è¯¥é•œåƒã€‚</li>
  <li><code class="highlighter-rouge">&lt;mirrorOf&gt;external:*&lt;mirrorOf&gt;</code>ï¼šåŒ¹é…æ‰€æœ‰ä¸åœ¨æœ¬æœºä¸Šçš„è¿œç¨‹ä»“åº“ã€‚</li>
  <li><code class="highlighter-rouge">&lt;mirrorOf&gt;repo1,repo2&lt;mirrorOf&gt;</code>ï¼šåŒ¹é…ä»“åº“ repo1 å’Œ repo2ï¼Œä½¿ç”¨é€—å·åˆ†éš”å¤šä¸ªè¿œç¨‹ä»“åº“ã€‚</li>
  <li><code class="highlighter-rouge">&lt;mirrorOf&gt;*,!repo&lt;mirrorOf&gt;</code>ï¼šåŒ¹é…æ‰€æœ‰è¿œç¨‹ä»“åº“ï¼Œrepo é™¤å¤–ï¼Œä½¿ç”¨æ„Ÿå¹å·å°†ä»“åº“ä»åŒ¹é…ä¸­æ’é™¤ã€‚</li>
</ul>

<p>6ï¼‰åœ¨ Eclipse ä¸‹ä¾æ¬¡é€‰æ‹©èœå• Window â†’ Show View â†’ Other â†’ Maven â†’ Maven Workspace Buildï¼ŒæŸ¥çœ‹é•œåƒæ˜¯å¦é…ç½®æˆåŠŸï¼ˆ<strong>æˆ‘ä¹ æƒ¯äº†ä½¿ç”¨ Eclipseï¼Œæ‰€ä»¥è¯·è§è°…</strong>ï¼Œä¸è¿‡ä¸ç®¡ä½¿ç”¨å“ªç§é›†æˆå¼€å‘ç¯å¢ƒï¼Œæ€è·¯å’Œæ­¥éª¤éƒ½å¤§å·®ä¸å·®ï¼‰ã€‚</p>

<p><img src="http://www.itwanger.com/assets/images/2019/10/maven-rumen-3.png" alt="" /></p>

<h3 id="03å¿«é€Ÿåˆ›å»º-maven-é¡¹ç›®">03ã€å¿«é€Ÿåˆ›å»º Maven é¡¹ç›®</h3>

<p>ä¸ºäº†å°½å¿«æ­¥å…¥é‡ç‚¹ï¼Œè¿™ä¸€å°èŠ‚æˆ‘ä¼šæœ‰æ„çš„é¿é‡å°±è½»ï¼Œæ²¡å¿…è¦çš„æ­¥éª¤ä¼šç•¥è¿‡ã€‚</p>

<p>1ï¼‰åœ¨ Eclipse ä¸­æ–°å»ºé¡¹ç›®çš„æ—¶å€™é€‰æ‹© Maven Projectã€‚</p>

<p>2ï¼‰åœ¨æ¥ä¸‹æ¥é€‰æ‹©é¡¹ç›®ç±»å‹çš„æ—¶å€™ï¼Œé€‰æ‹© maven-archetype-quickstartï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>

<p><img src="http://www.itwanger.com/assets/images/2019/10/maven-rumen-4.png" alt="" /></p>

<p>3ï¼‰ç„¶åæŒ‡å®šé¡¹ç›®å‚æ•°çš„æ—¶å€™å¡«å†™ group id å’Œ artifact idã€‚</p>

<p>4ï¼‰é¡¹ç›®åˆ›å»ºæˆåŠŸåçš„ç›®å½•ç»“æ„å›¾å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>

<p><img src="http://www.itwanger.com/assets/images/2019/10/maven-rumen-5.png" alt="" /></p>

<p>Maven 3 é»˜è®¤ä½¿ç”¨çš„ä¾ç„¶æ˜¯ JDK 1.5ï¼Œä¸è¿‡æˆ‘ä»¬å¯ä»¥ä¸ºå…¶é…ç½®æ›´é«˜ç‰ˆæœ¬çš„ JDKï¼Œåé¢ä¼šèŠåˆ°ã€‚</p>

<h3 id="04è¯¦ç»†åˆ†æ-pomxml">04ã€è¯¦ç»†åˆ†æ pom.xml</h3>

<p>æ¯«æ— ç–‘é—®ï¼ŒMaven é¡¹ç›®çš„çµé­‚åªæœ‰ä¸€ä¸ªï¼Œé‚£å°±æ˜¯ pom.xml æ–‡ä»¶ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥æˆ‘ä¼šè¯¦ç»†åœ°å¯¹å…¶è¿›è¡Œåˆ†æã€‚</p>

<p><strong>1ï¼‰é¡¹ç›®åŸºæœ¬ä¿¡æ¯</strong></p>

<p>pom.xml æ–‡ä»¶çš„ç¬¬ä¸€éƒ¨åˆ†ä¸»è¦ç”¨æ¥æè¿°é¡¹ç›®çš„åŸºæœ¬ä¿¡æ¯ã€‚</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;project</span> <span class="na">xmlns=</span><span class="s">"http://maven.apache.org/POM/4.0.0"</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
<span class="na">xsi:schemaLocation=</span><span class="s">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span><span class="nt">&gt;</span>
<span class="nt">&lt;modelVersion&gt;</span>4.0.0<span class="nt">&lt;/modelVersion&gt;</span>

<span class="nt">&lt;groupId&gt;</span>com.cmower<span class="nt">&lt;/groupId&gt;</span>
<span class="nt">&lt;artifactId&gt;</span>test<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;version&gt;</span>0.0.1-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;packaging&gt;</span>jar<span class="nt">&lt;/packaging&gt;</span>

<span class="nt">&lt;name&gt;</span>test<span class="nt">&lt;/name&gt;</span>

<span class="nt">&lt;/project&gt;</span>
</code></pre></div></div>

<p>â‘ ã€<code class="highlighter-rouge">&lt;project&gt;</code> æ˜¯ pom.xml çš„æ ¹å…ƒç´ ï¼Œå£°æ˜äº†ç›¸å…³çš„å‘½åç©ºé—´ã€‚</p>

<p>â‘¡ã€<code class="highlighter-rouge">&lt;modelVersion&gt;</code> æŒ‡å®šäº†å½“å‰é¡¹ç›®å¯¹è±¡æ¨¡å‹ï¼ˆPOMï¼‰çš„ç‰ˆæœ¬ï¼Œå¯¹äº Maven 3.x æ¥è¯´ï¼Œè¯¥å€¼åªèƒ½æ˜¯ 4.0.0ã€‚</p>

<p>â‘¢ã€<code class="highlighter-rouge">&lt;groupId&gt;</code> å®šä¹‰äº†é¡¹ç›®çš„ç»„åï¼Œè¿™ä¸ªç»„å¾€å¾€å’Œé¡¹ç›®æ‰€åœ¨çš„ç»„ç»‡æˆ–å…¬å¸å…³è”ã€‚</p>

<p>â‘£ã€<code class="highlighter-rouge">&lt;artifactId&gt;</code> å®šä¹‰äº†å½“å‰ Maven é¡¹ç›®åœ¨ç»„ä¸­å”¯ä¸€çš„ IDã€‚</p>

<p>â‘¤ã€<code class="highlighter-rouge">&lt;version&gt;</code> å®šä¹‰äº†é¡¹ç›®çš„ç‰ˆæœ¬å·ï¼Œ<code class="highlighter-rouge">SNAPSHOT</code> ä¸ºå¿«ç…§çš„æ„æ€ï¼Œä¹Ÿå°±æ˜¯è¯´è¯¥é¡¹ç›®è¿˜å¤„äºå¼€å‘é˜¶æ®µã€‚</p>

<p>â‘¥ã€<code class="highlighter-rouge">&lt;packaging&gt;</code> å®šä¹‰äº†é¡¹ç›®çš„æ‰“åŒ…ç±»å‹ï¼Œå¯é€‰å€¼æœ‰ warã€jar ç­‰ã€‚</p>

<p>â‘¦ã€<code class="highlighter-rouge">&lt;name&gt;</code> å®šä¹‰äº†é¡¹ç›®çš„åç§°ã€‚</p>

<p><strong>2ï¼‰å˜é‡é…ç½®ä¿¡æ¯</strong></p>

<p>pom.xml æ–‡ä»¶çš„ç¬¬äºŒéƒ¨åˆ†é€šå¸¸ç”¨æ¥é…ç½®ä¸€äº›å˜é‡ä¿¡æ¯ã€‚</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;properties&gt;</span>
<span class="nt">&lt;spring.version&gt;</span>5.1.5.RELEASE<span class="nt">&lt;/spring.version&gt;</span>
<span class="nt">&lt;/properties&gt;</span>
</code></pre></div></div>

<p>æœ‰äº†å˜é‡çš„é…ç½®ä¿¡æ¯åï¼Œå¯ä»¥é€šè¿‡ <code class="highlighter-rouge">${spring.version}</code> çš„å½¢å¼æ¥è°ƒç”¨è¿™äº›é…ç½®é¡¹ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¾è€Œæ˜“è§ï¼Œå½“ä¾èµ–é¡¹çš„ç‰ˆæœ¬å‡çº§çš„æ—¶å€™ï¼Œå¯ä»¥ç›´æ¥ä¿®æ”¹å˜é‡å€¼å³å¯ã€‚</p>

<p><strong>3ï¼‰ä¾èµ–ç®¡ç†</strong></p>

<p>é˜¿é‡Œäº‘çš„ Maven ä»“åº“ä¸‹æœ‰å„ç§å„æ ·çš„ç¬¬ä¸‰æ–¹ç±»åº“ï¼Œæ¢å¥è¯è¯´å°±æ˜¯ï¼Œåªæœ‰ä½ æƒ³ä¸åˆ°çš„ï¼Œæ²¡æœ‰ä½ æ‰¾ä¸åˆ°çš„ã€‚å¤§å¤šæ•° Maven é¡¹ç›®çš„ä¾èµ–é¡¹åˆ—è¡¨éƒ½ä¼šå¾ˆé•¿å¾ˆé•¿ï¼Œä¸ºäº†ä¾¿äºè¯´æ˜ï¼Œä¸‹é¢æˆ‘åªåˆ—å‡ºæŸäº›å…·æœ‰ç‰¹è‰²çš„ã€‚</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;dependencies&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
<span class="nt">&lt;groupId&gt;</span>junit<span class="nt">&lt;/groupId&gt;</span>
<span class="nt">&lt;artifactId&gt;</span>junit<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;version&gt;</span>3.8.1<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
<span class="nt">&lt;groupId&gt;</span>org.springframework<span class="nt">&lt;/groupId&gt;</span>
<span class="nt">&lt;artifactId&gt;</span>spring-core<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;version&gt;</span>${spring.version}<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;exclusions&gt;</span>
<span class="nt">&lt;exclusion&gt;</span>
<span class="nt">&lt;groupId&gt;</span>commons-logging<span class="nt">&lt;/groupId&gt;</span>
<span class="nt">&lt;artifactId&gt;</span>commons-logging<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;/exclusion&gt;</span>
<span class="nt">&lt;/exclusions&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
<span class="nt">&lt;groupId&gt;</span>commons-logging<span class="nt">&lt;/groupId&gt;</span>
<span class="nt">&lt;artifactId&gt;</span>commons-logging<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;version&gt;</span>1.1.1<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;/dependencies&gt;</span>
</code></pre></div></div>

<p>â‘ ã€ä¸Šæ–‡ä¸­æ›¾æåˆ°ï¼Œ<code class="highlighter-rouge">&lt;groupId&gt;</code>ã€<code class="highlighter-rouge">&lt;artifactId&gt;</code>ã€<code class="highlighter-rouge">&lt;version&gt;</code> åˆèµ·æ¥å¯ä»¥å‡†ç¡®åœ°å®šä½ä¸€ä¸ªä¾èµ–é¡¹ã€‚é‚£æ€ä¹ˆæ‰¾åˆ°æƒ³è¦çš„ä¾èµ–é¡¹å‘¢ï¼Ÿ</p>

<p>ç¬¬ä¸€æ­¥ï¼Œè¿›å…¥ MavenRepository ç½‘ç«™ï¼Œåœ°å€å¦‚ä¸‹ï¼š</p>

<p>http://mvnrepository.com</p>

<p>ç„¶ååœ¨æœç´¢æ¡†ä¸­è¾“å…¥ç¬¬ä¸‰æ–¹ç±»åº“çš„å…³é”®å­—ï¼Œæ¯”å¦‚è¯´ã€Œspring-coreã€ï¼Œç‚¹å‡»ã€Œsearchã€æŒ‰é’®ï¼Œå¯ä»¥æŸ¥çœ‹åˆ°è¯¥ç±»åº“çš„é“¾æ¥å¯¼èˆªã€‚</p>

<p>ç¬¬äºŒæ­¥ï¼Œç‚¹å‡»é“¾æ¥è¿›å…¥åˆ°ã€Œspring-coreã€çš„ä¸»é¡µï¼Œå¯ä»¥çœ‹åˆ°æ‰€æœ‰ç‰ˆæœ¬çš„ã€Œspring-coreã€ï¼Œé€‰æ‹©ä¸€ä¸ªä½¿ç”¨ç‡æœ€é«˜çš„ã€‚ä½¿ç”¨ç‡é«˜åœ¨ä¸€å®šç¨‹åº¦ä¸Šè¡¨æ˜è¿™ä¸ªç‰ˆæœ¬çš„ç±»åº“æœ€ç¨³å®šï¼Œå®ƒå·²ç»å¾—åˆ°äº†å¹¿å¤§ç¨‹åºå‘˜çš„è®¤å¯ã€‚</p>

<p>ç¬¬ä¸‰æ­¥ï¼Œè¿›å…¥è¯¥ç‰ˆæœ¬çš„ä¸»é¡µï¼Œåªéœ€è¦å·¦é”®è½»è½»åœ°åœ¨ ã€ŒMavenã€é€‰é¡¹å¡å†…ç‚¹ä¸€ä¸‹ï¼Œå°±å·²ç»æŠŠè¯¥ç±»åº“çš„ Maven ä¾èµ–ä¿¡æ¯å¤åˆ¶åˆ°ç²˜è´´æ¿äº†ï¼ˆä¸éœ€è¦ã€ŒCtrl+Cã€ï¼Œéå¸¸çš„äººæ€§åŒ–ï¼‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>

<p><img src="http://www.itwanger.com/assets/images/2019/10/maven-rumen-6.png" alt="" /></p>

<p>ç¬¬å››æ­¥ï¼Œå°†ç±»åº“çš„ä¾èµ–ä¿¡æ¯ç²˜è´´åˆ° pom.xml æ–‡ä»¶çš„ <code class="highlighter-rouge">&lt;dependencies&gt;</code> èŠ‚ç‚¹ä¸‹ï¼Œç„¶åæŒ‰ä¸‹å¿«æ·é”®ã€ŒCtrl+Sã€ä¿å­˜ã€‚ç´§æ¥ç€ï¼Œä¾æ¬¡å±•å¼€ test â†’ Java Resources â†’ Libraries â†’ Maven Dependencies èŠ‚ç‚¹ï¼Œä½ å¯ä»¥çœ‹åˆ°è¯¥ç±»åº“å·²ç»æ‚„æ‚„åœ°æ·»åŠ è¿›æ¥äº†ã€‚</p>

<p>â‘¡ã€ <code class="highlighter-rouge">&lt;exclusions&gt;</code> ä¸»è¦ç”¨äºæ’é™¤ä¾èµ–ã€‚</p>

<p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬å¼•å…¥çš„ä¾èµ–ä¸­å¯èƒ½ä¼šåŒ…å«ä¸€äº›ä¸æƒ³è¦çš„ä¾èµ–åŒ…ï¼Œæˆ‘ä»¬æƒ³å¼•å…¥è‡ªå·±æƒ³è¦çš„ï¼Œè¿™æ—¶å€™å°±è¦ç”¨åˆ°æ’é™¤ä¾èµ–äº†ã€‚</p>

<p>ä½¿ç”¨ <code class="highlighter-rouge">&lt;exclusion&gt;</code> çš„æ—¶å€™åªéœ€è¦æŒ‡å®š groupId å’Œ artifactId å°±è¡Œäº†ï¼Œå¹¶ä¸éœ€è¦ versionï¼Œè¿™æ˜¯å› ä¸º groupId å’Œ artifactId å°±å¯ä»¥å®šä½æŸç§ç±»å‹çš„ä¾èµ–ã€‚</p>

<p>â‘¢ã€ <code class="highlighter-rouge">&lt;scope&gt;</code> ç”¨æ¥æ§åˆ¶ä¾èµ–çš„èŒƒå›´ã€‚</p>

<p><strong>test</strong>ï¼šæµ‹è¯•ä¾èµ–èŒƒå›´ã€‚å…¸å‹çš„ä¾‹å­æ˜¯ Jnuitï¼Œå®ƒåªæœ‰åœ¨ç¼–è¯‘æµ‹è¯•ä»£ç åŠè¿è¡Œæµ‹è¯•çš„æ—¶å€™æ‰éœ€è¦ã€‚</p>

<p><strong>compile</strong>ï¼šç¼–è¯‘ä¾èµ–èŒƒå›´ï¼ˆå…¶å®ä¸æ­¢æ˜¯ç¼–è¯‘ï¼Œå¯¹æµ‹è¯•ã€è¿è¡ŒåŒæ ·æœ‰æ•ˆï¼‰ï¼Œç¼ºçœé¡¹ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œå°±ä¼šé»˜è®¤ä½¿ç”¨è¯¥ä¾èµ–èŒƒå›´ã€‚</p>

<p><strong>provided</strong>ï¼šæä¾›ä¾èµ–èŒƒå›´ã€‚å¯¹ç¼–è¯‘å’Œæµ‹è¯•æœ‰æ•ˆï¼Œä½†åœ¨è¿è¡Œæ—¶å€™æ— æ•ˆã€‚</p>

<p><strong>runtime</strong>ï¼šè¿è¡Œæ—¶ä¾èµ–èŒƒå›´ã€‚å¯¹æµ‹è¯•å’Œè¿è¡Œæœ‰æ•ˆï¼Œä½†åœ¨ç¼–è¯‘æ—¶æ— æ•ˆã€‚</p>

<p>PSï¼šå¦‚æœä¸çŸ¥é“é€‰å“ªä¸€ç§ï¼Œç¼ºçœå°±å¯¹äº†ã€‚</p>

<p><strong>4ï¼‰æ„å»ºé…ç½®</strong></p>

<p><code class="highlighter-rouge">&lt;build&gt;</code> å…ƒç´ ä¸­åŒ…å«äº†æ‰§è¡Œ Maven æ„å»ºå‘¨æœŸç›®æ ‡æ‰€éœ€çš„æ’ä»¶ä»¥åŠç›¸å…³çš„é…ç½®ã€‚</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;build&gt;</span>
<span class="nt">&lt;finalName&gt;</span>test<span class="nt">&lt;/finalName&gt;</span>
<span class="nt">&lt;plugins&gt;</span>

<span class="nt">&lt;plugin&gt;</span>
<span class="nt">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="nt">&lt;/groupId&gt;</span>
<span class="nt">&lt;artifactId&gt;</span>maven-compiler-plugin<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;version&gt;</span>2.3.2<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;configuration&gt;</span>
<span class="nt">&lt;source&gt;</span>${jdk.version}<span class="nt">&lt;/source&gt;</span>
<span class="nt">&lt;target&gt;</span>${jdk.version}<span class="nt">&lt;/target&gt;</span>
<span class="nt">&lt;/configuration&gt;</span>
<span class="nt">&lt;/plugin&gt;</span>

<span class="nt">&lt;/plugins&gt;</span>

<span class="nt">&lt;resources&gt;</span>
<span class="nt">&lt;resource&gt;</span>
<span class="nt">&lt;directory&gt;</span>src/main/java<span class="nt">&lt;/directory&gt;</span>
<span class="nt">&lt;includes&gt;</span>
<span class="nt">&lt;include&gt;</span>**/*.xml<span class="nt">&lt;/include&gt;</span>
<span class="nt">&lt;/includes&gt;</span>
<span class="nt">&lt;/resource&gt;</span>
<span class="nt">&lt;/resources&gt;</span>
<span class="nt">&lt;/build&gt;</span>
</code></pre></div></div>

<p>â‘ ã€<code class="highlighter-rouge">&lt;finalName&gt;</code>ï¼Œæ‰“æˆ jar åŒ…æˆ–è€… war åŒ…æ—¶çš„åç§°ã€‚ä¸Šæ–‡ä¸­æ›¾æåˆ°ï¼Œé¡¹ç›®æ‰“åŒ…åçš„è¾“å‡ºç›®å½•ä¸º <code class="highlighter-rouge">${basedir}/target</code>ã€‚</p>

<p>â‘¡ã€<code class="highlighter-rouge">&lt;plugins&gt;</code> ç”¨äºæŒ‡å®šé¡¹ç›®åœ¨æ„å»ºè¿‡ç¨‹ä¸­ä½¿ç”¨çš„æ’ä»¶ã€‚</p>

<ul>
  <li><code class="highlighter-rouge">&lt;groupId&gt;</code>ã€<code class="highlighter-rouge">&lt;artifactId&gt;</code>ã€<code class="highlighter-rouge">&lt;version&gt;</code> ç”¨äºç¡®å®šä½¿ç”¨çš„æ’ä»¶ã€‚</li>
  <li><code class="highlighter-rouge"> &lt;configuration&gt;</code>ï¼Œè¯¥æ’ä»¶æ‰€éœ€è¦çš„ç‰¹æ®Šé…ç½®ã€‚Maven 3 é»˜è®¤ä½¿ç”¨çš„æ˜¯ JDK 1.5ï¼Œæœ¬ä¾‹ä¸­æˆ‘ä»¬ä½¿ç”¨äº† JDK 1.8ã€‚</li>
</ul>

<p>â‘¢ã€<code class="highlighter-rouge">&lt;resources&gt;</code> æè¿°äº†å„ä¸ªèµ„æºåœ¨ Maven é¡¹ç›®ä¸­çš„å…·ä½“è·¯å¾„ã€‚</p>

<ul>
  <li><code class="highlighter-rouge">&lt;directory&gt;</code>ï¼Œèµ„æºæ–‡ä»¶çš„è·¯å¾„ï¼Œé»˜è®¤ä½äº <code class="highlighter-rouge">${basedir}/src/main/resources/</code> ç›®å½•ä¸‹ã€‚</li>
  <li><code class="highlighter-rouge">&lt;includes&gt;</code>ï¼Œç”¨äºæŒ‡å®šåœ¨æ„å»ºè¿‡ç¨‹ä¸­è¢«å¤„ç†çš„èµ„æºæ–‡ä»¶ï¼›å¯¹åº” <code class="highlighter-rouge">&lt;excludes&gt;</code> ç”¨äºçœå»ä¸è¢«å¤„ç†çš„èµ„æºæ–‡ä»¶ã€‚</li>
</ul>

<h3 id="05ä½¿ç”¨-maven-å¯¹é¡¹ç›®è¿›è¡Œæ¸…ç†ç¼–è¯‘æµ‹è¯•æ‰“åŒ…">05ã€ä½¿ç”¨ Maven å¯¹é¡¹ç›®è¿›è¡Œæ¸…ç†ã€ç¼–è¯‘ã€æµ‹è¯•ã€æ‰“åŒ…</h3>

<p>1ï¼‰æ¸…ç†ï¼š<code class="highlighter-rouge">mvn clean</code>ï¼Œè¯¥å‘½ä»¤ä¼šåˆ é™¤ target ç›®å½•ã€‚å¯ä»¥ç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œè¯¥å‘½ä»¤ï¼Œåªéœ€è¦åˆ‡æ¢åˆ°é¡¹ç›®æ‰€åœ¨çš„è·¯å¾„ä¸‹å³å¯ã€‚</p>

<p><img src="http://www.itwanger.com/assets/images/2019/10/maven-rumen-7.png" alt="" /></p>

<p>2ï¼‰ç¼–è¯‘ï¼š<code class="highlighter-rouge">mvn complie</code>ï¼Œè¯¥å‘½ä»¤ä¼šç¼–è¯‘ src/main/java ç›®å½•ä¸‹çš„æºç ã€‚åŒæ—¶ï¼ŒMaven è¿˜ä¼šå¤„ç†åœ¨ src/main/resources ç›®å½•ä¸‹çš„èµ„æºæ–‡ä»¶ï¼Œç¡®ä¿å®ƒä»¬ä½œä¸ºç¼–è¯‘çš„ä¸€éƒ¨åˆ†ã€‚</p>

<p><img src="http://www.itwanger.com/assets/images/2019/10/maven-rumen-8.png" alt="" /></p>

<p>ä¸è¿‡ï¼Œå¾ˆé—æ†¾çš„æ˜¯ï¼Œæ‰§è¡Œè¯¥å‘½ä»¤ä¼šæŠ¥é”™ã€‚è¯¥å‘½ä»¤ç»™å‡ºçš„æç¤ºæ˜¯ï¼ŒæŸ¥çœ‹ [Help 1] ç»™å‡ºçš„åœ°å€ï¼Œæˆ‘å°è¯•äº†ä¸€ä¸‹ï¼Œå¯ä»¥å°† <code class="highlighter-rouge">mvn complie</code> å‘½ä»¤æ›¿æ¢ä¸º <code class="highlighter-rouge">mvn compiler:compile</code> å‘½ä»¤æ‰§è¡Œï¼Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>

<p><img src="http://www.itwanger.com/assets/images/2019/10/maven-rumen-9.png" alt="" /></p>

<p>ç¼–è¯‘åå¯ä»¥åœ¨ target ç›®å½•ä¸‹æŸ¥çœ‹å­—èŠ‚ç æ–‡ä»¶ã€‚</p>

<p>3ï¼‰æµ‹è¯•ï¼š<code class="highlighter-rouge">mvn test</code>ï¼Œtest å‘½ä»¤åœ¨è¿è¡Œæ—¶ï¼Œä¼šæ‰§è¡Œ compile å‘½ä»¤ï¼›è€Œä¹‹å‰æˆ‘ä»¬å·²ç»æ‰§è¡Œè¿‡ä¸€æ¬¡ compile å‘½ä»¤ï¼Œä¸ºäº†ç¡®ä¿ç»“æœçš„å‡†ç¡®æ€§ï¼Œå¯ä»¥æ‰§è¡Œ <code class="highlighter-rouge">mvn clean test</code> å‘½ä»¤ç¡®ä¿æµ‹è¯•ä¹‹å‰æ²¡æœ‰æ®‹ä½™ç‰©ï¼Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>

<p><img src="http://www.itwanger.com/assets/images/2019/10/maven-rumen-10.png" alt="" /></p>

<p>Maven ä¼šé€šè¿‡ Surefire æ’ä»¶ï¼Œä½¿ç”¨ pom.xml æ–‡ä»¶ä¸­çš„æµ‹è¯•æä¾›è€…ï¼ˆé€šå¸¸æ˜¯ Junitï¼‰è¿è¡Œæµ‹è¯•ã€‚æ‰§è¡Œ <code class="highlighter-rouge">test</code> å‘½ä»¤ä¸ä»…ä¼šè¿è¡Œæµ‹è¯•ï¼Œè¿˜ä¼šäº§ç”ŸæŠ¥å‘Šæ–‡ä»¶ï¼Œæ­¤æ—¶ target ç›®å½•ä¸‹çš„æˆªå›¾å¦‚ä¸‹ï¼š</p>

<p><img src="http://www.itwanger.com/assets/images/2019/10/maven-rumen-11.png" alt="" /></p>

<p>4ï¼‰æ‰“åŒ…ï¼š<code class="highlighter-rouge">mvn install</code>ï¼Œè¯¥å‘½ä»¤ä¼šæŒ‰ç…§ pom.xml æ–‡ä»¶ä¸­ <code class="highlighter-rouge">&lt;packaging&gt;</code> æŒ‡å®šçš„æ–¹å¼ï¼ˆæœ¬ä¾‹ä¸º jarï¼‰å¯¹ç¼–è¯‘ç»“æœæ‰“åŒ…ã€‚åŒæ—¶ï¼Œè¿˜ä¼šæŠŠæ‰“åŒ…å¥½çš„æ–‡ä»¶æ”¾åˆ°æœ¬åœ°çš„ Maven ä»“åº“ä¸­ï¼Œä»¥ä¾¿å…¶ä»–é¡¹ç›®æŠŠå®ƒå½“åšä¾èµ–é¡¹ä½¿ç”¨ã€‚å‘½ä»¤æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>

<p><img src="http://www.itwanger.com/assets/images/2019/10/maven-rumen-12.png" alt="" /></p>

<p>æŸ¥çœ‹æœ¬åœ°çš„ Maven ä»“åº“ï¼Œå¯ä»¥çœ‹åˆ°åˆšåˆšæ‰“åŒ…å¥½çš„æ–‡ä»¶ã€‚</p>

<p><img src="http://www.itwanger.com/assets/images/2019/10/maven-rumen-13.png" alt="" /></p>

<h3 id="06æœ€å">06ã€æœ€å</h3>

<p>åœ¨ Maven å‡ºç°ä¹‹å‰ï¼Œæµè¡Œçš„æ„å»ºå·¥å…·æ˜¯ Antï¼›åœ¨ Maven å‡ºç°ä¹‹åï¼Œè¿˜æœ‰ä¸€ç§æ–°å…´çš„æ„å»ºå·¥å…· Gradleï¼Œå®ƒæœ‰æ„é€‰æ‹©äº†å’Œ Maven ç›¸åçš„åŸåˆ™ï¼Œä¸ä¼šå¼ºåˆ¶ä½¿ç”¨è€…éµå¾ªåˆ»æ¿çš„æ„å»ºå‘¨æœŸã€‚</p>

<p>æ€»ä¹‹ï¼ŒMaven æ˜¯ä¸€æ¬¾ä¼˜ç§€çš„æ„å»ºå·¥å…·ï¼Œ<a href="http://www.itwanger.com/">Java é¡¹ç›®çš„å¼€å‘è€…</a>å¾ˆæœ‰å¿…è¦ç†Ÿç»ƒåœ°æŒæ¡å®ƒã€‚</p>

<p>åŸæ–‡é“¾æ¥ï¼š<a href="http://www.itwanger.com/java/2019/10/24/maven-rumen.html">http://www.itwanger.com/java/2019/10/24/maven-rumen.html</a></p>

:ET