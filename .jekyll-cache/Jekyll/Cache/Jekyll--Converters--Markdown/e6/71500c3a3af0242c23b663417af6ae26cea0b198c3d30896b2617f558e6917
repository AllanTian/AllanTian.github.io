I"!À<p>æœ¬ç¯‡é€šè¿‡ä¸€ç§è¶£å‘³åŒ–çš„å½¢å¼æ¥è®²è¿° Java çš„<a href="http://www.itwanger.com/java/2019/11/08/java-fanxing.html">æ³›å‹</a>ã€‚</p>

<!--more-->

<h3 id="00æ•…äº‹çš„èµ·æº">00ã€æ•…äº‹çš„èµ·æº</h3>

<p>â€œäºŒå“¥ï¼Œè¦ä¸æˆ‘ä¸Šå¤§å­¦çš„æ—¶å€™ä¹Ÿå­¦ä¹ ç¼–ç¨‹å§ï¼Ÿâ€æœ‰ä¸€å¤©ï¼Œä¸‰å¦¹çªå‘å¥‡æƒ³åœ°é—®æˆ‘ã€‚</p>

<p>â€œä½ ç¡®å®šè¦åšä¸€åç¨‹åºåª›å—ï¼Ÿâ€</p>

<p>â€œæˆ‘è§‰å¾—å¥³ç”Ÿåšç¨‹åºå‘˜ï¼Œæœ‰ç€å¤©å¤§çš„ä¼˜åŠ¿ï¼Œå°¤å…¶æ˜¯æˆ‘è¿™ç§é•¿ç›¸ç”œç¾çš„ã€‚â€ä¸‰å¦¹å¼€å§‹è®¤çœŸäº†èµ·æ¥ã€‚</p>

<p>â€œå¥½åƒæ˜¯å•Šï¼Œé‡åˆ°å¥³ç”Ÿæé—®ï¼Œæˆ‘å¥½åƒä¸€ç›´è›®çƒ­æƒ…çš„ã€‚â€</p>

<p>â€œäºŒå“¥ï¼Œä½ ä¸æ˜¯çˆ±å¥½å†™ä½œå˜›ï¼Œè¿˜æ˜¯ä¸€ä¸ª Java ç¨‹åºå‘˜ï¼Œä¸å¦¨å†™ä¸ªä¸“æ ï¼Œåå­—å°±å«ã€Šæ•™å¦¹å­¦ Javaã€‹ã€‚æˆ‘é«˜è€ƒå®Œå°±å¼€å§‹è·Ÿç€ä½ å­¦ä¹ ç¼–ç¨‹ï¼Œè¿˜èƒ½çœä¸‹ä¸€ç¬”åŸ¹è®­è´¹ã€‚â€ä¸‰å¦¹çœ‹èµ·æ¥å·²ç»æ›¿æˆ‘ç­¹åˆ’å¥½äº†å‘€ã€‚</p>

<p>â€œçœŸçš„å¾ˆæœæ°”ä½ ä»¬é›¶é›¶åï¼Œè›®æœ‰æƒ³æ³•çš„ã€‚åˆšå¥½æˆ‘æœ€è¿‘åœ¨å†™ Java ç³»åˆ—çš„ä¸“æ ï¼Œä¸å¦¨è¯•ä¸€è¯•ï¼â€</p>

<p>PSï¼šäº²çˆ±çš„è¯»è€…æœ‹å‹ä»¬ï¼Œæˆ‘ä»¬ä»Šå¤©å°±ä»æ™¦æ¶©éš¾æ‡‚çš„â€œæ³›å‹â€å¼€å§‹å§ï¼ï¼ˆå­æ ‡é¢˜æ˜¯ä¸‰å¦¹æå‡ºæ¥çš„ï¼Œå†…å®¹ç”±äºŒå“¥æˆ‘æ¥å›ç­”ï¼‰</p>

<h3 id="01äºŒå“¥ä¸ºä»€ä¹ˆè¦è®¾è®¡æ³›å‹å•Š">01ã€äºŒå“¥ï¼Œä¸ºä»€ä¹ˆè¦è®¾è®¡æ³›å‹å•Šï¼Ÿ</h3>

<p>ä¸‰å¦¹å•Šï¼Œå¬å“¥æ…¢æ…¢ç»™ä½ è®²å•Šã€‚</p>

<p>Java åœ¨ 5.0 æ—¶å¢åŠ äº†æ³›å‹æœºåˆ¶ï¼Œæ®è¯´ä¸“å®¶ä»¬ä¸ºæ­¤èŠ±è´¹äº† 5 å¹´å·¦å³çš„æ—¶é—´ï¼ˆå¬èµ·æ¥å¾ˆä¸å®¹æ˜“ï¼‰ã€‚æœ‰äº†æ³›å‹ä¹‹åï¼Œå°¤å…¶æ˜¯å¯¹é›†åˆç±»çš„ä½¿ç”¨ï¼Œå°±å˜å¾—æ›´è§„èŒƒäº†ã€‚</p>

<p>çœ‹ä¸‹é¢è¿™æ®µç®€å•çš„ä»£ç ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"æ²‰é»˜ç‹äºŒ"</span><span class="o">);</span>
<span class="nc">String</span> <span class="n">str</span> <span class="o">=</span> <span class="n">list</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
</code></pre></div></div>

<p>ä½†åœ¨æ²¡æœ‰æ³›å‹ä¹‹å‰è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>

<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ Object æ•°ç»„æ¥è®¾è®¡ <code class="highlighter-rouge">Arraylist</code> ç±»ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Arraylist</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">Object</span><span class="o">[]</span> <span class="n">objs</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">add</span><span class="o">(</span><span class="nc">Object</span> <span class="n">obj</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">objs</span><span class="o">[</span><span class="n">i</span><span class="o">++]</span> <span class="o">=</span> <span class="n">obj</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="nc">Object</span> <span class="nf">get</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">objs</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>ç„¶åï¼Œæˆ‘ä»¬å‘ <code class="highlighter-rouge">Arraylist</code> ä¸­å­˜å–æ•°æ®ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Arraylist</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Arraylist</span><span class="o">();</span>
<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"æ²‰é»˜ç‹äºŒ"</span><span class="o">);</span>
<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Date</span><span class="o">());</span>
<span class="nc">String</span> <span class="n">str</span> <span class="o">=</span> <span class="o">(</span><span class="nc">String</span><span class="o">)</span><span class="n">list</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
</code></pre></div></div>

<p>ä½ æœ‰æ²¡æœ‰å‘ç°ä¸¤ä¸ªé—®é¢˜ï¼š</p>

<ul>
  <li>Arraylist å¯ä»¥å­˜æ”¾ä»»ä½•ç±»å‹çš„æ•°æ®ï¼ˆæ—¢å¯ä»¥å­˜å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ··å…¥æ—¥æœŸï¼‰ï¼Œå› ä¸ºæ‰€æœ‰ç±»éƒ½ç»§æ‰¿è‡ª Object ç±»ã€‚</li>
  <li>ä» Arraylist å–å‡ºæ•°æ®çš„æ—¶å€™éœ€è¦å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œå› ä¸ºç¼–è¯‘å™¨å¹¶ä¸èƒ½ç¡®å®šä½ å–çš„æ˜¯å­—ç¬¦ä¸²è¿˜æ˜¯æ—¥æœŸã€‚</li>
</ul>

<p>å¯¹æ¯”ä¸€ä¸‹ï¼Œä½ å°±èƒ½æ˜æ˜¾åœ°æ„Ÿå—åˆ°æ³›å‹çš„ä¼˜ç§€ä¹‹å¤„ï¼šä½¿ç”¨<strong>ç±»å‹å‚æ•°</strong>è§£å†³äº†å…ƒç´ çš„ä¸ç¡®å®šæ€§â€”â€”å‚æ•°ç±»å‹ä¸º String çš„é›†åˆä¸­æ˜¯ä¸å…è®¸å­˜æ”¾å…¶ä»–ç±»å‹å…ƒç´ çš„ï¼Œå–å‡ºæ•°æ®çš„æ—¶å€™ä¹Ÿä¸éœ€è¦å¼ºåˆ¶ç±»å‹è½¬æ¢äº†ã€‚</p>

<h3 id="02äºŒå“¥æ€ä¹ˆè®¾è®¡æ³›å‹å•Š">02ã€äºŒå“¥ï¼Œæ€ä¹ˆè®¾è®¡æ³›å‹å•Šï¼Ÿ</h3>

<p>ä¸‰å¦¹å•Šï¼Œä½ ä¸€ä¸ªå°ç™½åªè¦ä¼šç”¨æ³›å‹å°±è¡Œäº†ï¼Œè¿˜æƒ³è®¾è®¡æ³›å‹å•Šï¼Ÿï¼ä¸è¿‡ï¼Œæ—¢ç„¶ä½ æƒ³äº†è§£ï¼Œé‚£ä¹ˆå“¥ä¹‰ä¸å®¹è¾ã€‚</p>

<p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥æŒ‰ç…§æ³›å‹çš„æ ‡å‡†é‡æ–°è®¾è®¡ä¸€ä¸‹ <code class="highlighter-rouge">Arraylist</code> ç±»ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Arraylist</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">Object</span><span class="o">[]</span> <span class="n">elementData</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Arraylist</span><span class="o">(</span><span class="kt">int</span> <span class="n">initialCapacity</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">elementData</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Object</span><span class="o">[</span><span class="n">initialCapacity</span><span class="o">];</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">add</span><span class="o">(</span><span class="no">E</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">elementData</span><span class="o">[</span><span class="n">size</span><span class="o">++]</span> <span class="o">=</span> <span class="n">e</span><span class="o">;</span>
        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="no">E</span> <span class="nf">elementData</span><span class="o">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="o">(</span><span class="no">E</span><span class="o">)</span> <span class="n">elementData</span><span class="o">[</span><span class="n">index</span><span class="o">];</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>ä¸€ä¸ªæ³›å‹ç±»å°±æ˜¯å…·æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªç±»å‹å˜é‡çš„ç±»ã€‚Arraylist ç±»å¼•å…¥çš„ç±»å‹å˜é‡ä¸º Eï¼ˆElementï¼Œå…ƒç´ çš„é¦–å­—æ¯ï¼‰ï¼Œä½¿ç”¨å°–æ‹¬å· <code class="highlighter-rouge">&lt;&gt;</code> æ‹¬èµ·æ¥ï¼Œæ”¾åœ¨ç±»åçš„åé¢ã€‚</p>

<p>ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å…·ä½“çš„ç±»å‹ï¼ˆæ¯”å¦‚å­—ç¬¦ä¸²ï¼‰æ›¿æ¢ç±»å‹å˜é‡æ¥å®ä¾‹åŒ–æ³›å‹ç±»ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Arraylist</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Arraylist</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>
<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"æ²‰é»˜ç‹ä¸‰"</span><span class="o">);</span>
<span class="nc">String</span> <span class="n">str</span> <span class="o">=</span> <span class="n">list</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
</code></pre></div></div>

<p>Date ç±»å‹ä¹Ÿå¯ä»¥çš„ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Arraylist</span><span class="o">&lt;</span><span class="nc">Date</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Arraylist</span><span class="o">&lt;</span><span class="nc">Date</span><span class="o">&gt;();</span>
<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Date</span><span class="o">());</span>
<span class="nc">Date</span> <span class="n">date</span> <span class="o">=</span> <span class="n">list</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
</code></pre></div></div>

<p>å…¶æ¬¡ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åœ¨ä¸€ä¸ªéæ³›å‹çš„ç±»ï¼ˆæˆ–è€…æ³›å‹ç±»ï¼‰ä¸­å®šä¹‰æ³›å‹æ–¹æ³•ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Arraylist</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="no">T</span><span class="o">[]</span> <span class="nf">toArray</span><span class="o">(</span><span class="no">T</span><span class="o">[]</span> <span class="n">a</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="o">(</span><span class="no">T</span><span class="o">[])</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">copyOf</span><span class="o">(</span><span class="n">elementData</span><span class="o">,</span> <span class="n">size</span><span class="o">,</span> <span class="n">a</span><span class="o">.</span><span class="na">getClass</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>ä¸è¿‡ï¼Œè¯´å®è¯ï¼Œæ³›å‹æ–¹æ³•çš„å®šä¹‰çœ‹èµ·æ¥ç•¥æ˜¾æ™¦æ¶©ã€‚æ¥ä¸€å‰¯å›¾å§ï¼ˆæ³¨æ„ï¼šæ–¹æ³•è¿”å›ç±»å‹å’Œæ–¹æ³•å‚æ•°ç±»å‹è‡³å°‘éœ€è¦ä¸€ä¸ªï¼‰ã€‚</p>

<p><img src="http://www.itwanger.com/assets/images/2019/11/java-fanxing-jiaomei-1.png" alt="" /></p>

<p>ç°åœ¨ï¼Œæˆ‘ä»¬æ¥è°ƒç”¨ä¸€ä¸‹æ³›å‹æ–¹æ³•ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Arraylist</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Arraylist</span><span class="o">&lt;&gt;(</span><span class="mi">4</span><span class="o">);</span>
<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"æ²‰"</span><span class="o">);</span>
<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"é»˜"</span><span class="o">);</span>
<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"ç‹"</span><span class="o">);</span>
<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"äºŒ"</span><span class="o">);</span>

<span class="nc">String</span> <span class="o">[]</span> <span class="n">strs</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">String</span> <span class="o">[</span><span class="mi">4</span><span class="o">];</span>
<span class="n">strs</span> <span class="o">=</span> <span class="n">list</span><span class="o">.</span><span class="na">toArray</span><span class="o">(</span><span class="n">strs</span><span class="o">);</span>

<span class="k">for</span> <span class="o">(</span><span class="nc">String</span> <span class="n">str</span> <span class="o">:</span> <span class="n">strs</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">str</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<p>æœ€åï¼Œæˆ‘ä»¬å†æ¥è¯´è¯´æ³›å‹å˜é‡çš„é™å®šç¬¦ <code class="highlighter-rouge">extends</code>ã€‚åœ¨è§£é‡Šè¿™ä¸ªé™å®šç¬¦ä¹‹å‰ï¼Œæˆ‘ä»¬å‡è®¾æœ‰ä¸‰ä¸ªç±»ï¼Œå®ƒä»¬ä¹‹é—´çš„å®šä¹‰æ˜¯è¿™æ ·çš„ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Wanglaoer</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">"ç‹è€äºŒ"</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Wanger</span> <span class="kd">extends</span> <span class="nc">Wanglaoer</span><span class="o">{</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">"ç‹äºŒ"</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Wangxiaoer</span> <span class="kd">extends</span> <span class="nc">Wanger</span><span class="o">{</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">"ç‹å°äºŒ"</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>æˆ‘ä»¬ä½¿ç”¨é™å®šç¬¦ <code class="highlighter-rouge">extends</code> æ¥é‡æ–°è®¾è®¡ä¸€ä¸‹ <code class="highlighter-rouge">Arraylist</code> ç±»ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Arraylist</span><span class="o">&lt;</span><span class="no">E</span> <span class="kd">extends</span> <span class="nc">Wanger</span><span class="o">&gt;</span> <span class="o">{</span>
<span class="o">}</span>
</code></pre></div></div>

<p>å½“æˆ‘ä»¬å‘ <code class="highlighter-rouge">Arraylist</code> ä¸­æ·»åŠ  <code class="highlighter-rouge">Wanglaoer</code> å…ƒç´ çš„æ—¶å€™ï¼Œç¼–è¯‘å™¨ä¼šæç¤ºé”™è¯¯ï¼š<code class="highlighter-rouge">Arraylist</code> åªå…è®¸æ·»åŠ  <code class="highlighter-rouge">Wanger</code> åŠå…¶å­ç±» <code class="highlighter-rouge">Wangxiaoer</code> å¯¹è±¡ï¼Œä¸å…è®¸æ·»åŠ å…¶çˆ¶ç±» <code class="highlighter-rouge">Wanglaoer</code>ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Arraylist</span><span class="o">&lt;</span><span class="nc">Wanger</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Arraylist</span><span class="o">&lt;&gt;(</span><span class="mi">3</span><span class="o">);</span>
<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Wanger</span><span class="o">());</span>
<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Wanglaoer</span><span class="o">());</span>
<span class="c1">// The method add(Wanger) in the type Arraylist&lt;Wanger&gt; is not applicable for the arguments </span>
<span class="c1">// (Wanglaoer)</span>
<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Wangxiaoer</span><span class="o">());</span>
</code></pre></div></div>

<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œé™å®šç¬¦ <code class="highlighter-rouge">extends</code> å¯ä»¥ç¼©å°æ³›å‹çš„ç±»å‹èŒƒå›´ã€‚</p>

<h3 id="03äºŒå“¥å¬è¯´è™šæ‹Ÿæœºæ²¡æœ‰æ³›å‹">03ã€äºŒå“¥ï¼Œå¬è¯´è™šæ‹Ÿæœºæ²¡æœ‰æ³›å‹ï¼Ÿ</h3>

<p>ä¸‰å¦¹ï¼Œä½ åŠŸè¯¾åšå¾—å¯ä»¥å•Šï¼Œè¿è™šæ‹Ÿæœºéƒ½çŸ¥é“äº†å•Šã€‚å“¥å¯ä»¥è‚¯å®šåœ°å›ç­”ä½ ï¼Œè™šæ‹Ÿæœºæ˜¯æ²¡æœ‰æ³›å‹çš„ã€‚</p>

<p>å•°å—¦ä¸€å¥å“ˆã€‚æˆ‘ä»¬ç¼–å†™çš„ Java ä»£ç ï¼ˆä¹Ÿå°±æ˜¯æºç ï¼Œåç¼€ä¸º .java çš„æ–‡ä»¶ï¼‰æ˜¯ä¸èƒ½å¤Ÿè¢«æ“ä½œç³»ç»Ÿç›´æ¥è¯†åˆ«çš„ï¼Œéœ€è¦å…ˆç¼–è¯‘ï¼Œç”Ÿæˆ .class æ–‡ä»¶ï¼ˆä¹Ÿå°±æ˜¯å­—èŠ‚ç æ–‡ä»¶ï¼‰ã€‚ç„¶å Java è™šæ‹Ÿæœºï¼ˆJVMï¼‰ä¼šå……å½“ä¸€ä¸ªç¿»è¯‘å®˜çš„è§’è‰²ï¼ŒæŠŠå­—èŠ‚ç ç¿»è¯‘ç»™æ“ä½œç³»ç»Ÿèƒ½å¬å¾—æ‡‚çš„è¯­è¨€ï¼Œå‘Šè¯‰å®ƒè¯¥å¹²å˜›ã€‚</p>

<p>æ€ä¹ˆç¡®å®šè™šæ‹Ÿæœºæ²¡æœ‰æ³›å‹å‘¢ï¼Ÿæˆ‘ä»¬éœ€è¦æŠŠæ³›å‹ç±»çš„å­—èŠ‚ç è¿›è¡Œåç¼–è¯‘â€”â€”å¼ºçƒˆæ¨èè¶…ç¥åç¼–è¯‘å·¥å…· Jad ï¼</p>

<p>ç°åœ¨ï¼Œåœ¨å‘½ä»¤è¡Œä¸­æ•²ä»¥ä¸‹ä»£ç å§ï¼ˆåç¼–è¯‘ <code class="highlighter-rouge">Arraylist</code> çš„å­—èŠ‚ç æ–‡ä»¶ <code class="highlighter-rouge">Arraylist.class</code>ï¼‰ã€‚</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jad Arraylist.class
</code></pre></div></div>

<p>å‘½ä»¤æ‰§è¡Œå®Œåï¼Œä¼šç”Ÿæˆä¸€ä¸ª Arraylist.jad çš„æ–‡ä»¶ï¼Œç”¨æ–‡æœ¬ç¼–è¾‘å·¥å…·æ‰“å¼€åçš„ç»“æœå¦‚ä¸‹ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Decompiled by Jad v1.5.8g. Copyright 2001 Pavel Kouznetsov.</span>
<span class="c1">// Jad home page: http://www.kpdus.com/jad.html</span>
<span class="c1">// Decompiler options: packimports(3) </span>
<span class="c1">// Source File Name:   Arraylist.java</span>

<span class="kn">package</span> <span class="nn">com.cmower.java_demo.fanxing</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.Arrays</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Arraylist</span>
<span class="o">{</span>

    <span class="kd">public</span> <span class="nf">Arraylist</span><span class="o">(</span><span class="kt">int</span> <span class="n">initialCapacity</span><span class="o">)</span>
    <span class="o">{</span>
        <span class="n">size</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="n">elementData</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Object</span><span class="o">[</span><span class="n">initialCapacity</span><span class="o">];</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">add</span><span class="o">(</span><span class="nc">Object</span> <span class="n">e</span><span class="o">)</span>
    <span class="o">{</span>
        <span class="n">elementData</span><span class="o">[</span><span class="n">size</span><span class="o">++]</span> <span class="o">=</span> <span class="n">e</span><span class="o">;</span>
        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nc">Object</span> <span class="nf">elementData</span><span class="o">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">)</span>
    <span class="o">{</span>
        <span class="k">return</span> <span class="n">elementData</span><span class="o">[</span><span class="n">index</span><span class="o">];</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="nc">Object</span> <span class="n">elementData</span><span class="o">[];</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">size</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<p>ç±»å‹å˜é‡ <code class="highlighter-rouge">&lt;E&gt;</code> æ¶ˆå¤±äº†ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ Object ï¼</p>

<p>æ—¢ç„¶å¦‚æ­¤ï¼Œé‚£å¦‚æœæ³›å‹ç±»ä½¿ç”¨äº†é™å®šç¬¦ <code class="highlighter-rouge">extends</code>ï¼Œç»“æœä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ <code class="highlighter-rouge">Arraylist2</code> çš„æºç ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Arraylist2</span><span class="o">&lt;</span><span class="no">E</span> <span class="kd">extends</span> <span class="nc">Wanger</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">Object</span><span class="o">[]</span> <span class="n">elementData</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Arraylist2</span><span class="o">(</span><span class="kt">int</span> <span class="n">initialCapacity</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">elementData</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Object</span><span class="o">[</span><span class="n">initialCapacity</span><span class="o">];</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">add</span><span class="o">(</span><span class="no">E</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">elementData</span><span class="o">[</span><span class="n">size</span><span class="o">++]</span> <span class="o">=</span> <span class="n">e</span><span class="o">;</span>
        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="no">E</span> <span class="nf">elementData</span><span class="o">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="o">(</span><span class="no">E</span><span class="o">)</span> <span class="n">elementData</span><span class="o">[</span><span class="n">index</span><span class="o">];</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>å­—èŠ‚ç æ–‡ä»¶ <code class="highlighter-rouge">Arraylist2.class</code> ä½¿ç”¨ Jad åç¼–è¯‘åçš„ç»“æœå¦‚ä¸‹ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Decompiled by Jad v1.5.8g. Copyright 2001 Pavel Kouznetsov.</span>
<span class="c1">// Jad home page: http://www.kpdus.com/jad.html</span>
<span class="c1">// Decompiler options: packimports(3) </span>
<span class="c1">// Source File Name:   Arraylist2.java</span>

<span class="kn">package</span> <span class="nn">com.cmower.java_demo.fanxing</span><span class="o">;</span>


<span class="c1">// Referenced classes of package com.cmower.java_demo.fanxing:</span>
<span class="c1">//            Wanger</span>

<span class="kd">class</span> <span class="nc">Arraylist2</span>
<span class="o">{</span>

    <span class="kd">public</span> <span class="nf">Arraylist2</span><span class="o">(</span><span class="kt">int</span> <span class="n">initialCapacity</span><span class="o">)</span>
    <span class="o">{</span>
        <span class="n">size</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="n">elementData</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Object</span><span class="o">[</span><span class="n">initialCapacity</span><span class="o">];</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">add</span><span class="o">(</span><span class="nc">Wanger</span> <span class="n">e</span><span class="o">)</span>
    <span class="o">{</span>
        <span class="n">elementData</span><span class="o">[</span><span class="n">size</span><span class="o">++]</span> <span class="o">=</span> <span class="n">e</span><span class="o">;</span>
        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nc">Wanger</span> <span class="nf">elementData</span><span class="o">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">)</span>
    <span class="o">{</span>
        <span class="k">return</span> <span class="o">(</span><span class="nc">Wanger</span><span class="o">)</span><span class="n">elementData</span><span class="o">[</span><span class="n">index</span><span class="o">];</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="nc">Object</span> <span class="n">elementData</span><span class="o">[];</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">size</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<p>ç±»å‹å˜é‡ <code class="highlighter-rouge">&lt;E extends Wanger&gt;</code> ä¸è§äº†ï¼ŒE è¢«æ›¿æ¢æˆäº† <code class="highlighter-rouge">Wanger</code>ã€‚</p>

<p>é€šè¿‡ä»¥ä¸Šä¸¤ä¸ªä¾‹å­è¯´æ˜ï¼ŒJava è™šæ‹Ÿæœºä¼šå°†æ³›å‹çš„ç±»å‹å˜é‡æ“¦é™¤ï¼Œå¹¶æ›¿æ¢ä¸ºé™å®šç±»å‹ï¼ˆæ²¡æœ‰é™å®šçš„è¯ï¼Œå°±ç”¨ <code class="highlighter-rouge">Object</code>ï¼‰ã€‚</p>

<h3 id="04äºŒå“¥ç±»å‹æ“¦é™¤ä¼šæœ‰ä»€ä¹ˆé—®é¢˜å—">04ã€äºŒå“¥ï¼Œç±»å‹æ“¦é™¤ä¼šæœ‰ä»€ä¹ˆé—®é¢˜å—ï¼Ÿ</h3>

<p>ä¸‰å¦¹å•Šï¼Œä½ è¿˜åˆ«è¯´ï¼Œç±»å‹æ“¦é™¤çœŸçš„ä¼šæœ‰ä¸€äº›â€œé—®é¢˜â€ã€‚</p>

<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™æ®µä»£ç ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Cmower</span> <span class="o">{</span>
    
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">method</span><span class="o">(</span><span class="nc">Arraylist</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Arraylist&lt;String&gt; list"</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">method</span><span class="o">(</span><span class="nc">Arraylist</span><span class="o">&lt;</span><span class="nc">Date</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Arraylist&lt;Date&gt; list"</span><span class="o">);</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div>

<p>åœ¨æµ…å±‚çš„æ„è¯†ä¸Šï¼Œæˆ‘ä»¬ä¼šæƒ³å½“ç„¶åœ°è®¤ä¸º <code class="highlighter-rouge">Arraylist&lt;String&gt; list</code> å’Œ <code class="highlighter-rouge">Arraylist&lt;Date&gt; list</code> æ˜¯ä¸¤ç§ä¸åŒçš„ç±»å‹ï¼Œå› ä¸º String å’Œ Date æ˜¯ä¸åŒçš„ç±»ã€‚</p>

<p>ä½†ç”±äºç±»å‹æ“¦é™¤çš„åŸå› ï¼Œä»¥ä¸Šä»£ç æ˜¯ä¸ä¼šé€šè¿‡ç¼–è¯‘çš„â€”â€”ç¼–è¯‘å™¨ä¼šæç¤ºä¸€ä¸ªé”™è¯¯ï¼ˆè¿™æ­£æ˜¯ç±»å‹æ“¦é™¤å¼•å‘çš„é‚£äº›â€œé—®é¢˜â€ï¼‰ï¼š</p>

<blockquote>
  <p>Erasure of method method(Arraylist<String>) is the same as another method in type 
 Cmower</String></p>

  <p>Erasure of method method(Arraylist<Date>) is the same as another method in type 
 Cmower</Date></p>
</blockquote>

<p>å¤§è‡´çš„æ„æ€å°±æ˜¯ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•çš„å‚æ•°ç±»å‹åœ¨æ“¦é™¤åæ˜¯ç›¸åŒçš„ã€‚</p>

<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<code class="highlighter-rouge">method(Arraylist&lt;String&gt; list)</code> å’Œ <code class="highlighter-rouge">method(Arraylist&lt;Date&gt; list)</code> æ˜¯åŒä¸€ç§å‚æ•°ç±»å‹çš„æ–¹æ³•ï¼Œä¸èƒ½åŒæ—¶å­˜åœ¨ã€‚ç±»å‹å˜é‡ <code class="highlighter-rouge">String</code> å’Œ <code class="highlighter-rouge">Date</code> åœ¨æ“¦é™¤åä¼šè‡ªåŠ¨æ¶ˆå¤±ï¼Œmethod æ–¹æ³•çš„å®é™…å‚æ•°æ˜¯ <code class="highlighter-rouge">Arraylist list</code>ã€‚</p>

<p>æœ‰å¥ä¿—è¯å«åšï¼šâ€œç™¾é—»ä¸å¦‚ä¸€è§â€ï¼Œä½†å³ä½¿è§åˆ°äº†ä¹Ÿæœªå¿…ä¸ºçœŸâ€”â€”æ³›å‹çš„æ“¦é™¤é—®é¢˜å°±å¯ä»¥å¾ˆå¥½åœ°ä½è¯è¿™ä¸ªè§‚ç‚¹ã€‚</p>

<h3 id="05äºŒå“¥å¬è¯´æ³›å‹è¿˜æœ‰é€šé…ç¬¦">05ã€äºŒå“¥ï¼Œå¬è¯´æ³›å‹è¿˜æœ‰é€šé…ç¬¦ï¼Ÿ</h3>

<p>ä¸‰å¦¹å•Šï¼Œå“¥çªç„¶è§‰å¾—ä½ å¾ˆé€‚åˆä½œä¸€æšå¯çˆ±çš„ç¨‹åºåª›å•Šï¼ä½ è¿™é¢„ä¹ çš„åŠŸè¯¾åšå¾—å¯çœŸåˆ°å®¶å•Šï¼Œè¿é€šé…ç¬¦éƒ½çŸ¥é“ï¼</p>

<p>é€šé…ç¬¦ä½¿ç”¨è‹±æ–‡çš„é—®å·ï¼ˆ?ï¼‰æ¥è¡¨ç¤ºã€‚åœ¨æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ³›å‹å¯¹è±¡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å…³é”®å­— <code class="highlighter-rouge">extends</code> é™å®šå­ç±»ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å…³é”®å­— <code class="highlighter-rouge">super</code> é™å®šçˆ¶ç±»ã€‚</p>

<p>ä¸ºäº†æ›´å¥½åœ°è§£é‡Šé€šé…ç¬¦ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ <code class="highlighter-rouge">Arraylist</code> è¿›è¡Œä¸€äº›æ”¹è¿›ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Arraylist</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">Object</span><span class="o">[]</span> <span class="n">elementData</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Arraylist</span><span class="o">(</span><span class="kt">int</span> <span class="n">initialCapacity</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">elementData</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Object</span><span class="o">[</span><span class="n">initialCapacity</span><span class="o">];</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">add</span><span class="o">(</span><span class="no">E</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">elementData</span><span class="o">[</span><span class="n">size</span><span class="o">++]</span> <span class="o">=</span> <span class="n">e</span><span class="o">;</span>
        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="no">E</span> <span class="nf">get</span><span class="o">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="o">(</span><span class="no">E</span><span class="o">)</span> <span class="n">elementData</span><span class="o">[</span><span class="n">index</span><span class="o">];</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">indexOf</span><span class="o">(</span><span class="nc">Object</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">o</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">size</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">elementData</span><span class="o">[</span><span class="n">i</span><span class="o">]==</span><span class="kc">null</span><span class="o">)</span>
                    <span class="k">return</span> <span class="n">i</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">size</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">o</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">elementData</span><span class="o">[</span><span class="n">i</span><span class="o">]))</span>
                    <span class="k">return</span> <span class="n">i</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">contains</span><span class="o">(</span><span class="nc">Object</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nf">indexOf</span><span class="o">(</span><span class="n">o</span><span class="o">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">StringBuilder</span> <span class="n">sb</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">();</span>
        
        <span class="k">for</span> <span class="o">(</span><span class="nc">Object</span> <span class="n">o</span> <span class="o">:</span> <span class="n">elementData</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">o</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="no">E</span> <span class="n">e</span> <span class="o">=</span> <span class="o">(</span><span class="no">E</span><span class="o">)</span><span class="n">o</span><span class="o">;</span>
                <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
                <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="sc">','</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="sc">' '</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">sb</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">size</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">size</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="no">E</span> <span class="nf">set</span><span class="o">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">,</span> <span class="no">E</span> <span class="n">element</span><span class="o">)</span> <span class="o">{</span>
        <span class="no">E</span> <span class="n">oldValue</span> <span class="o">=</span> <span class="o">(</span><span class="no">E</span><span class="o">)</span> <span class="n">elementData</span><span class="o">[</span><span class="n">index</span><span class="o">];</span>
        <span class="n">elementData</span><span class="o">[</span><span class="n">index</span><span class="o">]</span> <span class="o">=</span> <span class="n">element</span><span class="o">;</span>
        <span class="k">return</span> <span class="n">oldValue</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>1ï¼‰æ–°å¢ <code class="highlighter-rouge">indexOf(Object o)</code> æ–¹æ³•ï¼Œåˆ¤æ–­å…ƒç´ åœ¨ <code class="highlighter-rouge">Arraylist</code> ä¸­çš„ä½ç½®ã€‚æ³¨æ„å‚æ•°ä¸º <code class="highlighter-rouge">Object</code> è€Œä¸æ˜¯æ³›å‹ <code class="highlighter-rouge">E</code>ã€‚</p>

<p>2ï¼‰æ–°å¢ <code class="highlighter-rouge">contains(Object o)</code> æ–¹æ³•ï¼Œåˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨ <code class="highlighter-rouge">Arraylist</code> ä¸­ã€‚æ³¨æ„å‚æ•°ä¸º <code class="highlighter-rouge">Object</code> è€Œä¸æ˜¯æ³›å‹ <code class="highlighter-rouge">E</code>ã€‚</p>

<p>3ï¼‰æ–°å¢ <code class="highlighter-rouge">toString()</code> æ–¹æ³•ï¼Œæ–¹ä¾¿å¯¹ <code class="highlighter-rouge">Arraylist</code> è¿›è¡Œæ‰“å°ã€‚</p>

<p>4ï¼‰æ–°å¢ <code class="highlighter-rouge">set(int index, E element)</code> æ–¹æ³•ï¼Œæ–¹ä¾¿å¯¹ <code class="highlighter-rouge">Arraylist</code> å…ƒç´ çš„æ›´æ”¹ã€‚</p>

<p>ä½ çŸ¥é“ï¼Œ<code class="highlighter-rouge">Arraylist&lt;Wanger&gt; list = new Arraylist&lt;Wangxiaoer&gt;();</code> è¿™æ ·çš„è¯­å¥æ˜¯æ— æ³•é€šè¿‡ç¼–è¯‘çš„ï¼Œå°½ç®¡ Wangxiaoer æ˜¯ Wanger çš„å­ç±»ã€‚ä½†å¦‚æœæˆ‘ä»¬ç¡®å®éœ€è¦è¿™ç§ â€œå‘ä¸Šè½¬å‹â€ çš„å…³ç³»ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿè¿™æ—¶å€™å°±éœ€è¦é€šé…ç¬¦æ¥å‘æŒ¥ä½œç”¨äº†ã€‚</p>

<p>åˆ©ç”¨ <code class="highlighter-rouge">&lt;? extends Wanger&gt;</code> å½¢å¼çš„é€šé…ç¬¦ï¼Œå¯ä»¥å®ç°æ³›å‹çš„å‘ä¸Šè½¬å‹ï¼Œæ¥çœ‹ä¾‹å­ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Arraylist</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="nc">Wanger</span><span class="o">&gt;</span> <span class="n">list2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Arraylist</span><span class="o">&lt;&gt;(</span><span class="mi">4</span><span class="o">);</span>
<span class="n">list2</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span>
<span class="c1">// list2.add(new Wanger());</span>
<span class="c1">// list2.add(new Wangxiaoer());</span>

<span class="nc">Wanger</span> <span class="n">w2</span> <span class="o">=</span> <span class="n">list2</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
<span class="c1">// Wangxiaoer w3 = list2.get(1);</span>
</code></pre></div></div>

<p>list2 çš„ç±»å‹æ˜¯ <code class="highlighter-rouge">Arraylist&lt;? extends Wanger&gt;</code>ï¼Œç¿»è¯‘ä¸€ä¸‹å°±æ˜¯ï¼Œlist2 æ˜¯ä¸€ä¸ª <code class="highlighter-rouge">Arraylist</code>ï¼Œå…¶ç±»å‹æ˜¯ <code class="highlighter-rouge">Wanger</code> åŠå…¶å­ç±»ã€‚</p>

<p>æ³¨æ„ï¼Œâ€œå…³é”®â€æ¥äº†ï¼list2 å¹¶ä¸å…è®¸é€šè¿‡ <code class="highlighter-rouge">add(E e)</code> æ–¹æ³•å‘å…¶æ·»åŠ  <code class="highlighter-rouge">Wanger</code> æˆ–è€… <code class="highlighter-rouge">Wangxiaoer</code> çš„å¯¹è±¡ï¼Œå”¯ä¸€ä¾‹å¤–çš„æ˜¯ <code class="highlighter-rouge">null</code>ã€‚ä¸ºä»€ä¹ˆä¸èƒ½å­˜å‘¢ï¼ŸåŸå› è¿˜æœ‰å¾…æ¢ç©¶ï¼ˆè‹¦æ¶©ï¼‰ã€‚</p>

<p>é‚£å°±å¥‡äº†æ€ªäº†ï¼Œæ—¢ç„¶ä¸è®©å­˜æ”¾å…ƒç´ ï¼Œé‚£è¦ <code class="highlighter-rouge">Arraylist&lt;? extends Wanger&gt;</code> è¿™æ ·çš„ list2 æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿ</p>

<p>è™½ç„¶ä¸èƒ½é€šè¿‡ <code class="highlighter-rouge">add(E e)</code> æ–¹æ³•å¾€ list2 ä¸­æ·»åŠ å…ƒç´ ï¼Œä½†å¯ä»¥ç»™å®ƒèµ‹å€¼ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Arraylist</span><span class="o">&lt;</span><span class="nc">Wanger</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Arraylist</span><span class="o">&lt;&gt;(</span><span class="mi">4</span><span class="o">);</span>

<span class="nc">Wanger</span> <span class="n">wanger</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Wanger</span><span class="o">();</span>
<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">wanger</span><span class="o">);</span>

<span class="nc">Wangxiaoer</span> <span class="n">wangxiaoer</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Wangxiaoer</span><span class="o">();</span>
<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">wangxiaoer</span><span class="o">);</span>

<span class="nc">Arraylist</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="nc">Wanger</span><span class="o">&gt;</span> <span class="n">list2</span> <span class="o">=</span> <span class="n">list</span><span class="o">;</span>

<span class="nc">Wanger</span> <span class="n">w2</span> <span class="o">=</span> <span class="n">list2</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">w2</span><span class="o">);</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list2</span><span class="o">.</span><span class="na">indexOf</span><span class="o">(</span><span class="n">wanger</span><span class="o">));</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list2</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="k">new</span> <span class="nc">Wangxiaoer</span><span class="o">()));</span>
</code></pre></div></div>

<p><code class="highlighter-rouge">Arraylist&lt;? extends Wanger&gt; list2 = list;</code> è¯­å¥æŠŠ list çš„å€¼èµ‹äºˆäº† list2ï¼Œæ­¤æ—¶ <code class="highlighter-rouge">list2 == list</code>ã€‚ç”±äº list2 ä¸å…è®¸å¾€å…¶æ·»åŠ å…¶ä»–å…ƒç´ ï¼Œæ‰€ä»¥æ­¤æ—¶å®ƒæ˜¯å®‰å…¨çš„â€”â€”æˆ‘ä»¬å¯ä»¥ä»å®¹åœ°å¯¹ list2 è¿›è¡Œ <code class="highlighter-rouge">get()</code>ã€<code class="highlighter-rouge">indexOf()</code> å’Œ <code class="highlighter-rouge">contains()</code>ã€‚æƒ³ä¸€æƒ³ï¼Œå¦‚æœå¯ä»¥å‘ list2 æ·»åŠ å…ƒç´ çš„è¯ï¼Œè¿™ 3 ä¸ªæ–¹æ³•åè€Œå˜å¾—ä¸å¤ªå®‰å…¨ï¼Œå®ƒä»¬çš„å€¼å¯èƒ½å°±ä¼šå˜ã€‚</p>

<p>åˆ©ç”¨ <code class="highlighter-rouge">&lt;? super Wanger&gt;</code> å½¢å¼çš„é€šé…ç¬¦ï¼Œå¯ä»¥å‘ Arraylist ä¸­å­˜å…¥çˆ¶ç±»æ˜¯ <code class="highlighter-rouge">Wanger</code> çš„å…ƒç´ ï¼Œæ¥çœ‹ä¾‹å­ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Arraylist</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="nc">Wanger</span><span class="o">&gt;</span> <span class="n">list3</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Arraylist</span><span class="o">&lt;&gt;(</span><span class="mi">4</span><span class="o">);</span>
<span class="n">list3</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Wanger</span><span class="o">());</span>
<span class="n">list3</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Wangxiaoer</span><span class="o">());</span>

<span class="c1">// Wanger w3 = list3.get(0);</span>
</code></pre></div></div>

<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ— æ³•ä» <code class="highlighter-rouge">Arraylist&lt;? super Wanger&gt;</code> è¿™æ ·ç±»å‹çš„ list3 ä¸­å–å‡ºæ•°æ®ã€‚ä¸ºä»€ä¹ˆä¸èƒ½å–å‘¢ï¼ŸåŸå› è¿˜æœ‰å¾…æ¢ç©¶ï¼ˆå†æ¬¡è‹¦æ¶©ï¼‰ã€‚</p>

<p>è™½ç„¶åŸå› æœ‰å¾…æ¢ç©¶ï¼Œä½†ç»“è®ºæ˜¯æ˜ç¡®çš„ï¼š<code class="highlighter-rouge">&lt;? extends T&gt;</code> å¯ä»¥å–æ•°æ®ï¼Œ<code class="highlighter-rouge">&lt;? super T&gt;</code> å¯ä»¥å­˜æ•°æ®ã€‚é‚£ä¹ˆåˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®ç°æ•°ç»„çš„æ‹·è´â€”â€”<code class="highlighter-rouge">&lt;? extends T&gt;</code> ä½œä¸ºæºï¼ˆä¿è¯æºä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼‰ï¼Œ<code class="highlighter-rouge">&lt;? super T&gt;</code> ä½œä¸ºç›®æ ‡ï¼ˆå¯ä»¥ä¿å­˜å€¼ï¼‰ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Collections</span> <span class="o">{</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="kt">void</span> <span class="nf">copy</span><span class="o">(</span><span class="nc">Arraylist</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="no">T</span><span class="o">&gt;</span> <span class="n">dest</span><span class="o">,</span> <span class="nc">Arraylist</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="no">T</span><span class="o">&gt;</span> <span class="n">src</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">src</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span>
			<span class="n">dest</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="n">src</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">));</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="06æ•…äº‹çš„æœªå®Œå¾…ç»­">06ã€æ•…äº‹çš„æœªå®Œå¾…ç»­</h3>

<p>â€œäºŒå“¥ï¼Œä½ ä»Šå¤©è‹¦æ¶©äº†å•Šï¼å˜¿å˜¿ã€‚ç«Ÿç„¶è¿˜æœ‰ä½ éœ€è¦æ¢ç©¶çš„ã€‚â€ä¸‰å¦¹å¼€å§‹è°ƒçš®äº†èµ·æ¥ã€‚</p>

<p>â€œâ€¦â€¦â€</p>

<p>â€œä¸è¦ä¸å¥½æ„æ€å˜›ï¼Œç­‰ä¸‰å¦¹å•¥æ—¶å€™æ¢ç©¶å‡ºæ¥äº†åŸå› ï¼Œä¸‰å¦¹ç»™ä½ è®²ï¼Œå¥½ä¸å¥½ï¼Ÿâ€ä¸‰å¦¹è¶Šè¯´è¶Šæ¥åŠ²äº†ã€‚</p>

<p>â€œâ€¦â€¦â€</p>

<p>â€œäºŒå“¥ï¼Œä½ è¿˜åœ¨æƒ³æ³›å‹é€šé…ç¬¦çš„åŸå› å•Šï¼é‚£ä¸‰å¦¹å…ˆå»é¢„ä¹ ä¸‹ä¸ªçŸ¥è¯†ç‚¹äº†å•Šï¼Œä½ æ€è€ƒå®Œäº†ï¼Œå†ç»™æˆ‘è®²ï¼â€ä¸‰å¦¹çœ‹ç€æˆ‘é™·å…¥äº†æ²‰æ€ï¼Œæ‰”ä¸‹è¿™å¥è¯èµ°äº†ã€‚</p>

<p>â€œâ€¦â€¦â€</p>

<p>ä¸Šä¸€ç¯‡ï¼š<a href="http://www.itwanger.com/java/2019/11/14/java-exception.html">Javaï¼šä¼˜é›…åœ°å¤„ç†å¼‚å¸¸çœŸæ˜¯ä¸€é—¨å­¦é—®å•Šï¼</a></p>

<p>ä¸‹ä¸€ç¯‡ï¼š<a href="http://www.itwanger.com/java/2019/11/14/java-jihe.html">æ•™å¦¹å­¦Javaï¼šå¤§æœ‰å¯ä¸ºçš„é›†åˆ</a></p>

<p>è°¢è°¢å¤§å®¶çš„é˜…è¯»ï¼ŒåŸåˆ›ä¸æ˜“ï¼Œå–œæ¬¢å°±éšæ‰‹ç‚¹ä¸ªèµğŸ‘ï¼Œè¿™å°†æ˜¯æˆ‘æœ€å¼ºçš„å†™ä½œåŠ¨åŠ›ã€‚å¦‚æœè§‰å¾—æ–‡ç« å¯¹ä½ æœ‰ç‚¹å¸®åŠ©ï¼Œè¿˜æŒºæœ‰è¶£ï¼Œå°±å…³æ³¨ä¸€ä¸‹æˆ‘çš„å…¬ä¼—å·ã€Œ<strong>æ²‰é»˜ç‹äºŒ</strong>ã€ã€‚</p>
:ET