# No space left on device


## 前言

日常中使用 Linux 那对于后台开发人员来说，操作 Linux 那可是不可避免的，今天可有一问题把小王弄的是头脑发热，再配上这 “凉爽” 的天气，那可真确实是雪上加霜。事情是这样的，小王说他本来想登上自己买的服务器，传输些自己写好的代码，部署到自己服务器上好管理下，但是使用 SecureFX 传输文件的时候突然就传输失败了，怎么试都是不行，先是关闭重新 FTP 重新传输，又是断网重试，再是最强之还魂大法———重启电脑、重启服务器，都无法传输，小王就特别郁闷，我这昨天还用着好好的呢，今天怎么突然怎么弄都没办法处理啊。小王没办法了，就来找我，说甜哥，我这服务器不灵了干啥都弄不了。这传个文件都传不了，我换个服务器就成功了。那这问题就显而易见了，那就是服务器的问题。经过我的一番筛选终于为小王解决了苦恼，接下来我们就来看看是什么惹的我们的小王如此发热！

## 问题


### 正确的现象

刚开始碰到的问题是这样的，使用 SecureFX 传输文件正常是会显示 **Transferring file...** 意思就是 传输文件中

> **Transferring file...**

### 错误的现象 

而小王传输显示的是下文提示，图这里，我就不附带了，我附带我自己的，我的是没有问题，因当时一时疏忽忘记截图了。这句提示，翻译过来就是 **信息不足，无法确定故障原因。** 你说这个提示无法确实故障，这可如何是好，无从下手啊。

> **Insufficient information exists to identify the cause of failure.**


没办法，我只能试下用 SSH 命令来上传文件。在 `Linux` 下一般用 `scp` 这个命令来通过 `ssh` 传输文件。万幸的是scp 传输的过程中突然给我提示了一句话！！！

> **No space left on device**

看到这句话，我一目了然了，恍然大悟，原来是小王的服务器磁盘上没有多余的空间了 翻译过来就是 `设备上没有剩余空间`

这下我们知道了其病根，那就对症下药，所谓其道之一针见血！该如何治，请往下看。

## 解决问题

- 首先，先用 `df` 命令查看当前服务器磁盘空闲情况
  

  ```bash
    df -a
  ```

  此时可以看到  `/dev/nvme0n1p1`   文件系统占用了 **`33%`** 


- 这时可以从根目录下开始使用 `du` 命令查找出空间占用最大的文件


  ```bash
    du -sh *
  ```



  命令一路追查，得知是 `~/data/tools` 下面的文件有问题。

- 一一查看得知原因是服务器的的日志文件太多的缘故

- 删除没用的日志文件和不需要的安装包等即可完璧归赵。


## 总结

高手过招，招招致命！ 这下还怕使用 Linux 嘛， 不用怕，有我在没意外，什么无法确实故障，什么信息不足，什么内存不足，全都拿下，押下去。是不是很nice，加油，还有更多的秘密等着你来探索！



分享嗨起来，在看点起来，美德传起来，点个星标从此探索之路不迷茫！